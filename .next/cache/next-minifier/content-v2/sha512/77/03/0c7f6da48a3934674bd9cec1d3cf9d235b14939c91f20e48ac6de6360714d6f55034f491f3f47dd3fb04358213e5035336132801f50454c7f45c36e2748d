{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[24],{\"b/jV\":function(e,t,a){\"use strict\";a.r(t);var n=a(\"q1tI\"),l=a.n(n),s=a(\"yTzP\"),o=a(\"7VV5\"),r=a(\"BRJb\"),c=a(\"o0o1\"),i=a.n(c),u=a(\"HaE+\"),d=a(\"nOHt\"),p=a(\"Lxlj\"),g=a.n(p),m=a(\"+xep\"),b=l.a.createElement,v=function(e){var t=e.transaction,a=Object(n.useRef)(null),s=Object(n.useRef)(null),o=Object(n.useRef)(null),r=Object(n.useRef)(null),c=Object(n.useState)(\"\"),i=c[0],u=c[1];return Object(n.useEffect)((function(){(null===t||void 0===t?void 0:t.proof_payment)&&\"pending\"===(null===t||void 0===t?void 0:t.status_transaction)&&u(a.current.offsetWidth)})),b(\"article\",{className:\"col-12 col-sm-12 col-lg-12 col-xl-12 col-sells\"},b(\"ul\",null,b(\"li\",null,\"Negocio: \",b(\"span\",{className:\"text-dark\"},b(\"strong\",null,t.product.business))),b(\"li\",null,\"Canal:\",b(\"span\",null,b(\"strong\",null,\"organic\"===t.token_influencer?b(\"span\",{className:\"ml-1 badge bg-primary text-light\"},\"Org\\xe1nico \",b(\"span\",{className:\"badge bg-danger text-light p-1\"},\"sin descuento\")):b(\"span\",{className:\"ml-1 badge bg-success text-light\"},\"Referido \",b(\"span\",{className:\"badge bg-primary text-light p-1\"},\"con descuento\"))))),b(\"li\",null,\"Precio: \",b(\"span\",{className:\"text-success\"},b(\"strong\",null,\"organic\"===t.token_influencer?b(g.a,{value:t.product.amount,displayType:\"text\",thousandSeparator:!0,prefix:\"$\"}):b(g.a,{value:t.product.amount-t.product.amount*t.product.discount/100,displayType:\"text\",thousandSeparator:!0,prefix:\"$\"}),\" ARS\"))),b(\"li\",null,\"Estado:\",b(\"strong\",null,\"pending\"===t.status_transaction?b(\"span\",{className:\"ml-1 badge bg-success text-light\"},\"Transferencia\"):b(\"span\",{className:\"ml-1 badge bg-success text-light\"},\"Consulta por WhatsApp\")))),b(\"input\",{onClick:function(e){null!==s&&(s.current.classList.toggle(\"d-block\"),e.target.classList.toggle(\"btn-danger\"),e.target.value=\"Producto\"===e.target.value?\"Cerrar\":\"Producto\")},type:\"button\",className:\"btn btn-primary\",value:\"Producto\"}),b(\"input\",{onClick:function(e){null!==o&&(o.current.classList.toggle(\"d-block\"),e.target.classList.toggle(\"btn-danger\"),e.target.value=\"Cliente\"===e.target.value?\"Cerrar\":\"Cliente\")},type:\"button\",className:\"btn btn-primary\",value:\"Cliente\"}),\"pending\"===t.status_transaction&&b(l.a.Fragment,null,b(\"input\",{onClick:function(e){null!==r&&(r.current.classList.toggle(\"d-block\"),e.target.classList.toggle(\"btn-danger\"),e.target.value=\"Comprobante de pago\"===e.target.value?\"Cerrar comprobante\":\"Comprobante de pago\",u(a.current.offsetWidth))},type:\"button\",className:\"btn btn-primary\",value:\"Comprobante de pago\"}),b(\"ul\",{className:\"content-description-prod-transaction-proof d-none\",ref:r},b(\"li\",{ref:a},b(\"p\",{className:\"p-2 bg-warning col-2\"},\"comprobante de pago\"),b(m.CloudinaryContext,{cloudName:\"blets\"},b(m.Image,{className:\"card-img\",publicId:\"\".concat(t.proof_payment,\".jpg\")},b(m.Transformation,{crop:\"scale\",quality:\"40\",width:i-50,dpr:\"auto\"})))))),b(\"ul\",{className:\"content-description-prod-transaction d-none\",ref:s},b(\"li\",null,\"T\\xedtulo: \",b(\"strong\",null,t.product.title)),b(\"li\",{className:\"desc-card-view-transaction\"},\"Descripci\\xf3n:\",b(\"pre\",{className:\"wrapping\"},b(\"p\",{className:\"p-3 d-inline\"},b(\"strong\",null,\" \",t.product.description)))),b(\"li\",null,\"Localidad: \",b(\"strong\",null,t.product.location)),b(\"li\",null,\"Negocio: \",b(\"strong\",null,t.product.business)),b(\"li\",null,\"Categor\\xeda \",b(\"strong\",null,t.product.type))),b(\"ul\",{className:\"content-description-prod-transaction d-none\",ref:o},b(\"li\",null,\"Nombre: \",b(\"strong\",null,t.payer.name)),b(\"li\",null,\"Apellido: \",b(\"strong\",null,t.payer.surname)),b(\"li\",null,\"Email: \",b(\"strong\",null,t.payer.email)),b(\"li\",null,\"Cod. \\xe1rea: \",b(\"strong\",null,\"(\",t.payer.phone.area_code,\")\"),\" Tel: \",b(\"strong\",null,t.payer.phone.number)),b(\"li\",null,\"Localidad: \",b(\"strong\",null,t.payer.location)),b(\"li\",null,\"C\\xf3d. Postal: \",b(\"strong\",null,t.payer.address.zip_code)),b(\"li\",null,\"Calle: \",b(\"strong\",null,t.payer.address.street_name)),b(\"li\",null,\"Altura: \",b(\"strong\",null,t.payer.address.street_number))))},f=a(\"tluV\"),h=a(\"vDqi\"),x=a.n(h),N=a(\"5hpN\"),y=l.a.createElement,_=function(e){var t=e.dateFilter,a=Object(n.useState)([]),s=a[0],o=a[1],r=Object(n.useState)(Object(N.a)(\"user\")),c=r[0],p=(r[1],Object(n.useState)(!1)),g=p[0],m=p[1],b=Object(d.useRouter)(),h=function(){var e=Object(u.a)(i.a.mark((function e(){var a,n,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,x.a.get(\"\".concat(\"https://apisicompralo.herokuapp.com\",\"/v1/product/transaction/sells\"),{headers:{\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\",date_filter:t,business:null===c||void 0===c||null===(a=c.user)||void 0===a?void 0:a.business}});case 3:return n=e.sent,e.next=6,null===n||void 0===n?void 0:n.data;case 6:return l=e.sent,e.next=9,l;case 9:if(e.t1=e.sent,!e.t1){e.next=12;break}e.t1=l.status;case 12:if(e.t0=e.t1,!e.t0){e.next=15;break}e.t0=t;case 15:if(e.t2=e.t0,!e.t2){e.next=18;break}m(!1);case 18:o(l);case 19:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=[\"seller\",\"master\"],k=!1;return Object(n.useEffect)((function(){h()}),[t]),Object(n.useEffect)((function(){(null===_||void 0===_?void 0:_.length)>0&&_.forEach((function(e){var t;(null===c||void 0===c||null===(t=c.user)||void 0===t?void 0:t.rol)===e&&(k=!0)})),!k&&b.push(\"/\")}),[null===c||void 0===c?void 0:c.user]),y(l.a.Fragment,null,200==s.status&&s.transaction.length>0?s.transaction.map((function(e,t){return y(v,{transaction:e,key:t})})):y(\"p\",null,\"No hay transacciones disponibles\"),y(f.a.OnloadArticlesComponent,{status:g}))},k=a(\"wd/R\"),w=a.n(k),C=l.a.createElement,O=function(e){var t,a,s=Object(n.useState)([]),o=s[0],r=s[1],c=Object(n.useState)(w()().format(\"YYYY-MM-DD\")),d=c[0],p=c[1],m=Object(n.useState)(Object(N.a)(\"user\")),b=m[0],v=(m[1],function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,n,l,s,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:w()().format(\"YYYY-MM-DD\"),e.next=3,x.a.get(\"\".concat(\"https://apisicompralo.herokuapp.com\",\"/v1/product/transaction/sells/metrics\"),{headers:{\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\",date_filter:n,business:null===b||void 0===b||null===(t=b.user)||void 0===t?void 0:t.business,rol:null===b||void 0===b||null===(a=b.user)||void 0===a?void 0:a.rol}});case 3:return l=e.sent,e.next=6,null===l||void 0===l?void 0:l.data;case 6:s=e.sent,r(s);case 8:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(n.useEffect)((function(){v()}),[e]),C(l.a.Fragment,null,C(\"article\",{className:\"content-metrics-header-mybusiness col-12 col-sm-12 col-lg-12 col-xl-12\"},C(\"ul\",null,C(\"li\",{title:\"Pago exitoso\"},C(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"currentColor\",className:\"bi bi-bag-check text-primary\",viewBox:\"0 0 16 16\"},C(\"path\",{fillRule:\"evenodd\",d:\"M10.854 8.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708 0z\"}),C(\"path\",{d:\"M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z\"})),C(\"span\",{className:\"text-primary d-block\"},null===o||void 0===o?void 0:o.success)),C(\"li\",{title:\"Pago pendiente\"},C(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"currentColor\",className:\"bi bi-bag-dash text-secondary\",viewBox:\"0 0 16 16\"},C(\"path\",{fillRule:\"evenodd\",d:\"M5.5 10a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1-.5-.5z\"}),C(\"path\",{d:\"M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z\"})),C(\"span\",{className:\"text-secondary d-block\"},null===o||void 0===o?void 0:o.pending)),C(\"li\",null,C(\"label\",{className:\"badge p-2\"},C(\"span\",{className:\"m-1 d-block text-dark\"},\"Filtrar por fecha\"),o.latest_sell&&C(\"input\",{className:\"d-block form-control\",onChange:function(e){p(w()(e.target.value).format(\"YYYY-MM-DD\"));var t=w()(e.target.value).format(\"YYYY-MM-DD\");v(t),console.log(t),console.log(o)},type:\"date\",min:w()((null===o||void 0===o||null===(t=o.latest_sell[0])||void 0===t?void 0:t.length)>=0&&(null===(a=o.latest_sell[0])||void 0===a?void 0:a.create_at_filter)),max:w()().format(\"YYYY-MM-DD\"),value:d}))),C(\"li\",null,C(\"span\",{className:\"text-dark\"},\"Cash total: \"),C(\"span\",{className:\"text-success badge bg-dark p-2 metrics-badge-amount\"},C(g.a,{value:(null===o||void 0===o?void 0:o.amount_total_cancel)||0,displayType:\"text\",thousandSeparator:!0,prefix:\"$\"}))),C(\"li\",null,C(\"span\",{className:\"text-dark\"},\"Cash aprobado: \"),C(\"span\",{className:\"text-success badge bg-dark p-2 metrics-badge-amount\"},C(g.a,{value:(null===o||void 0===o?void 0:o.amount_total_cancel)||0,displayType:\"text\",thousandSeparator:!0,prefix:\"$\"}))),C(\"li\",null,C(\"span\",{className:\"text-dark\"},\"Cash pendiente: \"),C(\"span\",{className:\"text-warning badge bg-dark p-2 metrics-badge-amount\"},C(g.a,{value:(null===o||void 0===o?void 0:o.amount_total_cancel)||0,displayType:\"text\",thousandSeparator:!0,prefix:\"$\"}))),C(\"li\",null,C(\"span\",{className:\"text-dark\"},\"Cash rechazado: \"),C(\"span\",{className:\"text-danger badge bg-dark p-2 metrics-badge-amount\"},C(g.a,{value:(null===o||void 0===o?void 0:o.amount_total_cancel)||0,displayType:\"text\",thousandSeparator:!0,prefix:\"$\"}))))),C(\"article\",{className:\"col-12 col-sm-12 col-lg-12 col-xl-12 content-sells-pending\"},C(_,{dateFilter:d})))},j=a(\"zyEs\"),Y=l.a.createElement,E=function(){return Y(l.a.Fragment,null,Y(j.a,null,Y(s.a,null),Y(\"main\",{className:\"container-fluid\"},Y(o.a,null),Y(\"section\",{className:\"row section-home\"},Y(O,null)),Y(r.a,null))))},M=l.a.createElement;t.default=function(){return M(E,null)}},zOM9:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/pedidos\",function(){return a(\"b/jV\")}])}},[[\"zOM9\",0,1,6,8,2,3,4,5,7]]]);","extractedComments":[]}