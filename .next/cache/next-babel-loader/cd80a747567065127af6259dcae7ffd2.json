{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/naza/Escritorio/private/marketblets/front-end/components/product/product.component.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect, useRef } from 'react';\nimport { useCookies } from 'react-cookie';\nimport { useRouter } from \"next/router\";\nimport CurrencyFormat from 'react-currency-format';\nimport SendTransaction from './send.transaction.component';\nimport RemoveProduct from '../management/remove.product.component';\nimport EditProduct from '../management/edit.product.component';\nimport { Image, Transformation, CloudinaryContext } from 'cloudinary-react';\nimport Link from 'next/link';\nimport SwitchPriceAuth from './price.convert.component';\nimport axios from 'axios';\n\nvar Product = function Product(_ref) {\n  _s();\n\n  var router = _ref.router;\n  var Router = useRouter();\n  var _Router$query = Router.query,\n      id = _Router$query.id,\n      name = _Router$query.name;\n  var imgContent = useRef(null);\n\n  var _useState = useState(''),\n      credential = _useState[0],\n      setCredential = _useState[1];\n\n  var _useState2 = useState(''),\n      imgContentState = _useState2[0],\n      setImgContentState = _useState2[1];\n\n  var _useCookies = useCookies(['user']),\n      _useCookies2 = _slicedToArray(_useCookies, 2),\n      cookies = _useCookies2[0],\n      setCookie = _useCookies2[1];\n\n  var _useState3 = useState([]),\n      product = _useState3[0],\n      setProduct = _useState3[1];\n\n  var _useState4 = useState('accept-payment-close'),\n      acceptPaymentSwitch = _useState4[0],\n      setAcceptPaymentSwitch = _useState4[1];\n\n  var _useState5 = useState('Comprar'),\n      valueBtnSwitchPayment = _useState5[0],\n      setValueBtnSwitchPayment = _useState5[1];\n\n  var _useState6 = useState(''),\n      discountHiddeNotLogged = _useState6[0],\n      setDiscountHiddeNotLogged = _useState6[1];\n\n  var _useState7 = useState(''),\n      discount = _useState7[0],\n      setDiscount = _useState7[1];\n\n  var _useState8 = useState(''),\n      customer = _useState8[0],\n      setCustomer = _useState8[1];\n\n  var _useState9 = useState(''),\n      amount = _useState9[0],\n      setAmount = _useState9[1];\n\n  var HandlerFindUser = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(idUser) {\n      var getUser, resUser;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.get(\"\".concat(process.env.API_PATH, \"/v1/user/\").concat(idUser));\n\n            case 2:\n              getUser = _context.sent;\n              _context.next = 5;\n              return getUser.data;\n\n            case 5:\n              resUser = _context.sent;\n              setCustomer(resUser);\n              return _context.abrupt(\"return\", resUser);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function HandlerFindUser(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var getAllProduct = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var fetchAll, dataFetch;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return fetch(\"\".concat(process.env.API_PATH, \"/v1/product/\").concat(id), {\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Access-Control-Allow-Origin': '*'\n                }\n              });\n\n            case 2:\n              fetchAll = _context2.sent;\n              _context2.next = 5;\n              return fetchAll.json();\n\n            case 5:\n              dataFetch = _context2.sent;\n              setProduct(dataFetch);\n              setAmount(dataFetch.amount);\n              setDiscount(dataFetch.discount);\n              cookies.user && !cookies.user.discount_token && product.discount > 0 || !cookies.user ? setDiscountHiddeNotLogged('d-none') : setDiscountHiddeNotLogged('');\n              return _context2.abrupt(\"return\", dataFetch);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function getAllProduct() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    if (cookies.user && cookies.user.rol !== 'master') {\n      setCredential('false');\n    } else if (!cookies.user) {\n      setCredential('false');\n    }\n\n    if (cookies.user && cookies.user.rol === 'master') {\n      setCredential('true');\n    }\n\n    if (product.img) setImgContentState(imgContent.current.offsetWidth);\n  });\n  useEffect(function () {\n    cookies.user && HandlerFindUser(cookies.user.id);\n    console.log(customer);\n\n    if (Router.asPath !== Router.route) {\n      getAllProduct();\n    }\n  }, [Router]);\n\n  var handlerAcceptPaymentSwitch = function handlerAcceptPaymentSwitch(e) {\n    if (cookies.user) {\n      if (acceptPaymentSwitch === 'accept-payment-close') {\n        e.target.classList.toggle('btn-danger');\n        e.target.classList.remove('btn-buy-now');\n        setValueBtnSwitchPayment('Cerrar');\n        setAcceptPaymentSwitch('');\n      } else {\n        e.target.classList.toggle('btn-danger');\n        e.target.classList.add('btn-buy-now');\n        setValueBtnSwitchPayment('Pagar con Mercado Pago!');\n        setAcceptPaymentSwitch('accept-payment-close');\n      }\n    } else {\n      window.location = '/iniciar-sesion';\n    }\n  };\n\n  var handlerTransaction = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var frmData, resTransaction;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              frmData = new FormData();\n              frmData.append('id_product', product._id);\n              frmData.append('product', product);\n              frmData.append('payer', customer);\n              frmData.append('token_influencer', cookies.user.discount_token ? cookies.user.discount_token : 'organic');\n              frmData.append('id_client', cookies.user.id);\n              frmData.append('status_transaction', 'pending');\n              frmData.append('proof_payment', {});\n              _context3.next = 10;\n              return SendTransaction(frmData);\n\n            case 10:\n              resTransaction = _context3.sent;\n              return _context3.abrupt(\"return\", resTransaction);\n\n            case 12:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handlerTransaction() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(React.Fragment, null, __jsx(\"section\", {\n    className: \"row section-product\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, __jsx(\"article\", {\n    className: \"col-12 col-sm-12 col-lg-12 col-xl-12 p-0 m-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, __jsx(\"nav\", {\n    \"aria-label\": \"breadcrumb\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, __jsx(\"ol\", {\n    className: \"breadcrumb\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  }, __jsx(\"li\", {\n    className: \"breadcrumb-item\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }, __jsx(Link, {\n    href: \"/\",\n    as: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 57\n    }\n  }, __jsx(\"a\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 79\n    }\n  }, \"Inicio\"))), __jsx(\"li\", {\n    className: \"breadcrumb-item active text-light\",\n    \"aria-current\": \"page\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }\n  }, name)))), __jsx(\"article\", {\n    className: \"col-12 col-sm-12 col-lg-8 col-xl-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, __jsx(\"article\", {\n    ref: imgContent,\n    className: \"col-12 content-img-prod-open\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, credential === 'true' ? __jsx(RemoveProduct, {\n    product: product,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 46\n    }\n  }) : false, credential === 'true' ? __jsx(EditProduct, {\n    product: product,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 46\n    }\n  }) : false, product.img ? __jsx(CloudinaryContext, {\n    cloudName: \"blets\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 27\n    }\n  }, __jsx(Image, {\n    className: \"card-img\",\n    publicId: \"\".concat(product.img, \".jpg\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 29\n    }\n  }, __jsx(Transformation, {\n    crop: \"scale\",\n    quality: \"40\",\n    width: imgContentState - 50,\n    dpr: \"auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 33\n    }\n  }))) : ''), __jsx(\"article\", {\n    className: \"product-description-content col-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }, __jsx(\"h2\", {\n    className: \"col-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }\n  }, \"Descripci\\xF3n\"), __jsx(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 59\n    }\n  }), __jsx(\"ul\", {\n    type: \"none\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }, __jsx(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  }, \"- Categor\\xEDa: \", __jsx(\"span\", {\n    className: \"text-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 42\n    }\n  }, __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 71\n    }\n  }, product.type)), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 109\n    }\n  })), product.subcategory ? __jsx(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 31\n    }\n  }, \"- Edici\\xF3n: \", __jsx(\"span\", {\n    className: \"text-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 44\n    }\n  }, __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 73\n    }\n  }, product.subcategory))) : '', __jsx(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 25\n    }\n  }, \"- Nombre del negocio: \", __jsx(\"span\", {\n    className: \"text-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 51\n    }\n  }, __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 80\n    }\n  }, product.business))), __jsx(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 25\n    }\n  }, \"- Ubicaci\\xF3n: \", __jsx(\"span\", {\n    className: \"text-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 38\n    }\n  }, __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 67\n    }\n  }, product.location)))), __jsx(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 26\n    }\n  }), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }, product.description))), __jsx(\"article\", {\n    className: \"col-12 col-sm-12 col-lg-4 col-xl-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, __jsx(\"article\", {\n    className: \"col-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }\n  }, __jsx(\"h1\", {\n    className: \"component-info-buy\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }, product.title), __jsx(\"h4\", {\n    className: \"text-light component-info-buy\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 21\n    }\n  }, __jsx(SwitchPriceAuth, {\n    discount: discount,\n    amount: amount,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 25\n    }\n  })), __jsx(\"strike\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  }, __jsx(\"h5\", {\n    className: \"text-light component-info-buy \".concat(discountHiddeNotLogged),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 25\n    }\n  }, __jsx(CurrencyFormat, {\n    value: product.amount,\n    displayType: 'text',\n    thousandSeparator: true,\n    prefix: '$',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 29\n    }\n  }))), __jsx(\"p\", {\n    className: \"col-12 col-sm-12 col-lg-6 col-xl-6 p-0 m-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: \"\".concat(!product.shipping ? 'd-none' : 'd-block', \" shipping-open bg-primary text-light\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 25\n    }\n  }, \"Lo recib\\xEDs en tu domicilio\"), __jsx(\"span\", {\n    className: \"shipping-open bg-success text-light d-block\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 25\n    }\n  }, \"Env\\xEDo gratis\"))), __jsx(\"article\", {\n    className: \"col-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 17\n    }\n  }, __jsx(\"p\", {\n    className: \"component-info-buy\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 21\n    }\n  }, \"Pag\\xE1 al contado o en cuotas con\", __jsx(\"span\", {\n    className: \"text-info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 21\n    }\n  }, \" \", __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 50\n    }\n  }, \"Mercado Pago\"))), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: \"bg-primary p-2 text-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 25\n    }\n  }, \"Se encuentra en \", __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 45\n    }\n  }, product.location))), __jsx(\"p\", {\n    className: \"\".concat(acceptPaymentSwitch),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 21\n    }\n  }, \"Finaliza tu pago, y te lo enviamos a tu casa!\"), __jsx(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 21\n    }\n  }), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 21\n    }\n  }, __jsx(\"img\", {\n    className: \"ico-payments\",\n    src: \"../img/visa.png\",\n    alt: \"Visa\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 25\n    }\n  }), __jsx(\"img\", {\n    className: \"ico-payments\",\n    src: \"../img/mastercard.png\",\n    alt: \"Mastercard\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 25\n    }\n  }), __jsx(\"img\", {\n    className: \"ico-payments\",\n    src: \"../img/transfer.png\",\n    alt: \"Transferencia\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 25\n    }\n  }), __jsx(\"img\", {\n    className: \"ico-payments\",\n    src: \"../img/mp.webp\",\n    alt: \"Mercado Pago\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 25\n    }\n  })), __jsx(\"article\", {\n    className: \"col-12 accept-payment \".concat(acceptPaymentSwitch),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 21\n    }\n  }, __jsx(\"article\", {\n    className: \"content--btn-payment p-5 \".concat(acceptPaymentSwitch),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 25\n    }\n  }, __jsx(\"article\", {\n    className: \"btn-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 29\n    }\n  }, __jsx(\"a\", {\n    onClick: handlerTransaction,\n    href: \"#\",\n    target: \"_blank\",\n    className: \"btn btn-primary d-block\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 33\n    }\n  }, \"Continuar con Mercado Pago\"), __jsx(\"p\", {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 33\n    }\n  }, \"Continuar con transferencia bancaria: \", __jsx(\"span\", {\n    className: \"text-warning\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 91\n    }\n  }, \"CBU \", product.CBU)), __jsx(\"p\", {\n    className: \"mt-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 33\n    }\n  }, __jsx(\"strong\", {\n    className: \"text-warning\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 37\n    }\n  }, \"IMPORTANTE\"), __jsx(\"small\", {\n    className: \"d-block\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 37\n    }\n  }, \"Env\\xEDar screenshot del comprobante de pago\"), __jsx(\"label\", {\n    htmlFor: \"screenshot-payment\",\n    className: \"btn btn-success\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 37\n    }\n  }, \"Subir archivo\"), __jsx(\"input\", {\n    type: \"file\",\n    className: \"d-none\",\n    id: \"screenshot-payment\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 37\n    }\n  }))))), __jsx(\"input\", {\n    onClick: handlerAcceptPaymentSwitch,\n    type: \"button\",\n    className: \"btn btn-buy-now text-light col-12\",\n    value: valueBtnSwitchPayment,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 21\n    }\n  })))));\n}; // 0720006988000038698918\n\n\n_s(Product, \"2bys/JWz4l6tx9QlV4wGIoQeoLY=\", false, function () {\n  return [useRouter, useCookies];\n});\n\n_c = Product;\nexport default Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"sources":["/home/naza/Escritorio/private/marketblets/front-end/components/product/product.component.jsx"],"names":["useState","useEffect","useRef","useCookies","useRouter","CurrencyFormat","SendTransaction","RemoveProduct","EditProduct","Image","Transformation","CloudinaryContext","Link","SwitchPriceAuth","axios","Product","router","Router","query","id","name","imgContent","credential","setCredential","imgContentState","setImgContentState","cookies","setCookie","product","setProduct","acceptPaymentSwitch","setAcceptPaymentSwitch","valueBtnSwitchPayment","setValueBtnSwitchPayment","discountHiddeNotLogged","setDiscountHiddeNotLogged","discount","setDiscount","customer","setCustomer","amount","setAmount","HandlerFindUser","idUser","get","process","env","API_PATH","getUser","data","resUser","getAllProduct","fetch","headers","fetchAll","json","dataFetch","user","discount_token","rol","img","current","offsetWidth","console","log","asPath","route","handlerAcceptPaymentSwitch","e","target","classList","toggle","remove","add","window","location","handlerTransaction","frmData","FormData","append","_id","resTransaction","type","subcategory","business","description","title","shipping","CBU"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef } from 'react';\r\nimport { useCookies } from 'react-cookie';\r\nimport { useRouter } from \"next/router\";\r\nimport CurrencyFormat from 'react-currency-format';\r\nimport SendTransaction from './send.transaction.component';\r\nimport RemoveProduct from '../management/remove.product.component';\r\nimport EditProduct from '../management/edit.product.component';\r\nimport {Image, Transformation, CloudinaryContext} from 'cloudinary-react';\r\nimport Link from 'next/link';\r\nimport SwitchPriceAuth from './price.convert.component'\r\nimport axios from 'axios'\r\n\r\nconst Product = ({ router }) => {\r\n    const Router = useRouter();\r\n    const { id, name } = Router.query;\r\n    const imgContent = useRef(null);\r\n    const [credential, setCredential] = useState('');\r\n    const [imgContentState, setImgContentState] = useState('');\r\n    const [cookies, setCookie] = useCookies(['user']);\r\n    const [product, setProduct] = useState([]);\r\n    const [acceptPaymentSwitch, setAcceptPaymentSwitch] = useState('accept-payment-close');\r\n    const [valueBtnSwitchPayment, setValueBtnSwitchPayment] = useState('Comprar');\r\n    const [discountHiddeNotLogged, setDiscountHiddeNotLogged] = useState('')\r\n    const [discount, setDiscount] = useState('')\r\n    const [customer, setCustomer] = useState('')\r\n    const [amount, setAmount] = useState('')\r\n\r\n    const HandlerFindUser = async idUser => {\r\n        const getUser = await axios.get(`${process.env.API_PATH}/v1/user/${idUser}`),\r\n        resUser = await getUser.data\r\n        setCustomer(resUser)\r\n        return resUser\r\n    }\r\n    const getAllProduct = async () => {\r\n        const fetchAll = await fetch(`${process.env.API_PATH}/v1/product/${id}`, {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Access-Control-Allow-Origin': '*'\r\n            }\r\n        })\r\n        const dataFetch = await fetchAll.json();\r\n        setProduct(dataFetch);\r\n        setAmount(dataFetch.amount)\r\n        setDiscount(dataFetch.discount)\r\n        cookies.user \r\n        && !cookies.user.discount_token \r\n        && product.discount > 0 \r\n        || !cookies.user\r\n        ? setDiscountHiddeNotLogged('d-none')\r\n        : setDiscountHiddeNotLogged('')\r\n        return dataFetch\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(cookies.user \r\n            && cookies.user.rol !== 'master'){\r\n            setCredential('false');\r\n        }else if(!cookies.user){\r\n            setCredential('false');\r\n        }\r\n        if(cookies.user \r\n            && cookies.user.rol === 'master'){\r\n                setCredential('true');\r\n        }\r\n        if(product.img)setImgContentState(imgContent.current.offsetWidth);\r\n    })\r\n\r\n    useEffect(() => {\r\n        cookies.user && HandlerFindUser(cookies.user.id)\r\n        console.log(customer)\r\n        if (Router.asPath !== Router.route) {\r\n            getAllProduct()\r\n        }\r\n    }, [Router])\r\n    \r\n    const handlerAcceptPaymentSwitch = e => {\r\n        if(cookies.user){\r\n            if(acceptPaymentSwitch === 'accept-payment-close'){\r\n                e.target.classList.toggle('btn-danger');\r\n                e.target.classList.remove('btn-buy-now');\r\n                setValueBtnSwitchPayment('Cerrar');\r\n                setAcceptPaymentSwitch('');\r\n            }else{\r\n                e.target.classList.toggle('btn-danger');\r\n                e.target.classList.add('btn-buy-now');\r\n                setValueBtnSwitchPayment('Pagar con Mercado Pago!');\r\n                setAcceptPaymentSwitch('accept-payment-close');\r\n            } \r\n        }else{\r\n            window.location = '/iniciar-sesion';\r\n        }\r\n    }\r\n    const handlerTransaction = async () => {\r\n        let frmData = new FormData();\r\n        frmData.append('id_product', product._id)\r\n        frmData.append('product', product)\r\n        frmData.append('payer', customer)\r\n        frmData.append('token_influencer', (cookies.user.discount_token) ? cookies.user.discount_token : 'organic')\r\n        frmData.append('id_client', cookies.user.id)\r\n        frmData.append('status_transaction', 'pending')\r\n        frmData.append('proof_payment', {})\r\n        const resTransaction = await SendTransaction(frmData)\r\n        \r\n        return resTransaction\r\n    }\r\n    return(\r\n        <>\r\n        <section className=\"row section-product\">\r\n            <article className='col-12 col-sm-12 col-lg-12 col-xl-12 p-0 m-0'>\r\n                <nav aria-label=\"breadcrumb\">\r\n                    <ol className=\"breadcrumb\">\r\n                        <li className=\"breadcrumb-item\"><Link href=\"/\" as='/'><a>Inicio</a></Link></li>\r\n                        <li className=\"breadcrumb-item active text-light\" aria-current=\"page\">{name}</li>\r\n                    </ol>\r\n                </nav>\r\n            </article>\r\n            <article className=\"col-12 col-sm-12 col-lg-8 col-xl-8\">\r\n                <article ref={imgContent} className=\"col-12 content-img-prod-open\">\r\n                    {credential === 'true' ? <RemoveProduct product={product}/> : false}\r\n                    {credential === 'true' ? <EditProduct product={product}/> : false}\r\n                    {\r\n                        product.img \r\n                        ? <CloudinaryContext cloudName=\"blets\">\r\n                            <Image className='card-img' publicId={`${product.img}.jpg`}>\r\n                                <Transformation crop='scale' quality='40' width={(imgContentState - 50)} dpr='auto'/>\r\n                            </Image>\r\n                        </CloudinaryContext>\r\n                        : ''\r\n                    }\r\n                </article>\r\n                <article className=\"product-description-content col-12\">\r\n                    <h2 className='col-2'>Descripción</h2><hr/>\r\n                    <ul type='none'>\r\n                        <li>\r\n                            - Categoría: <span className='text-light'><strong>{product.type}</strong></span><br/>\r\n                        </li>\r\n                        {\r\n                            product.subcategory \r\n                            ? <li>\r\n                                - Edición: <span className='text-light'><strong>{product.subcategory}</strong></span>\r\n                            </li>\r\n                            : '' \r\n                        }\r\n                        <li>\r\n                            - Nombre del negocio: <span className='text-light'><strong>{product.business}</strong></span>\r\n                        </li>\r\n                        <li>\r\n                        - Ubicación: <span className='text-light'><strong>{product.location}</strong></span>\r\n                        </li>\r\n                    </ul><hr/>\r\n                    <p>\r\n                        {product.description}\r\n                    </p>\r\n                </article>\r\n            </article>\r\n            <article className=\"col-12 col-sm-12 col-lg-4 col-xl-4\">\r\n                <article className=\"col-12\">\r\n                    <h1 className=\"component-info-buy\">{product.title}</h1>\r\n                    <h4 className={`text-light component-info-buy`}>\r\n                        <SwitchPriceAuth \r\n                            discount={discount} \r\n                            amount={amount}\r\n                        />\r\n                    </h4>\r\n                    <strike>\r\n                        <h5 className={`text-light component-info-buy ${discountHiddeNotLogged}`}>\r\n                            <CurrencyFormat \r\n                                value={product.amount} \r\n                                displayType={'text'} \r\n                                thousandSeparator={true} \r\n                                prefix={'$'}/>\r\n                        </h5>\r\n                    </strike>\r\n                    <p className='col-12 col-sm-12 col-lg-6 col-xl-6 p-0 m-0'>\r\n                        <span className={`${(!product.shipping) ? 'd-none' : 'd-block'} shipping-open bg-primary text-light`}>\r\n                            Lo recibís en tu domicilio\r\n                        </span>\r\n                        <span className={`shipping-open bg-success text-light d-block`}>\r\n                            Envío gratis\r\n                        </span>\r\n                    </p>\r\n                </article>\r\n                <article className=\"col-12\">\r\n                    <p className=\"component-info-buy\">Pagá al contado o en cuotas con \r\n                    <span className=\"text-info\"> <strong>Mercado Pago</strong></span></p>\r\n                    <p>\r\n                        <span className='bg-primary p-2 text-light'>\r\n                            Se encuentra en <strong>{product.location}</strong>\r\n                        </span>\r\n                    </p>\r\n                    <p className={`${acceptPaymentSwitch}`}>Finaliza tu pago, y te lo enviamos a tu casa!</p>\r\n                    <hr/>\r\n                    <p>\r\n                        <img className='ico-payments' src=\"../img/visa.png\" alt=\"Visa\"/>\r\n                        <img className='ico-payments' src=\"../img/mastercard.png\" alt=\"Mastercard\"/>\r\n                        <img className='ico-payments' src=\"../img/transfer.png\" alt=\"Transferencia\"/>\r\n                        <img className='ico-payments' src=\"../img/mp.webp\" alt=\"Mercado Pago\"/>\r\n                    </p>\r\n                    <article className={`col-12 accept-payment ${acceptPaymentSwitch}`}>\r\n                        <article className={`content--btn-payment p-5 ${acceptPaymentSwitch}`}>\r\n                            <article className=\"btn-content\">\r\n                                <a \r\n                                    onClick={handlerTransaction} \r\n                                    href=\"#\" \r\n                                    target='_blank' \r\n                                    className='btn btn-primary d-block'>\r\n                                    Continuar con Mercado Pago\r\n                                </a>\r\n                                <p className='mt-3'>Continuar con transferencia bancaria: <span className='text-warning'>CBU {product.CBU}</span></p>\r\n                                <p className='mt-4'>\r\n                                    <strong className='text-warning'>IMPORTANTE</strong>\r\n                                    <small className='d-block'>Envíar screenshot del comprobante de pago</small>\r\n                                    <label htmlFor=\"screenshot-payment\" className='btn btn-success'>\r\n                                        Subir archivo\r\n                                    </label>\r\n                                    <input type=\"file\" className='d-none' id='screenshot-payment'/>\r\n                                </p>\r\n                            </article>       \r\n                        </article>\r\n                    </article>\r\n                    <input onClick={handlerAcceptPaymentSwitch} type='button' className=\"btn btn-buy-now text-light col-12\" value={valueBtnSwitchPayment}/>\r\n                </article>\r\n            </article>\r\n        </section>\r\n        </>\r\n    )\r\n}\r\n// 0720006988000038698918\r\nexport default Product;"]},"metadata":{},"sourceType":"module"}