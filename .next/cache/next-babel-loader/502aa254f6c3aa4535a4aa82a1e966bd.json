{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport NavbarVertical from './navbar.vertical.component';\nimport { useEffect } from 'react';\nimport { useState } from 'react'; // import InputTokenInfluencer from './get.token.influencer';\n\nimport { useRouter } from 'next/router';\nimport CategoryList from './management/category.list.component';\nimport RemoveItem from './localStorage/removeItem';\nimport GetItem from \"./localStorage/getItem\";\n\nconst Header = () => {\n  const Router = useRouter(),\n        {\n    0: cookies,\n    1: setCookie\n  } = useState(GetItem('user')),\n        {\n    0: inputSearch,\n    1: setInputSearch\n  } = useState(''),\n        {\n    0: viewBtnLoginRegister,\n    1: setViewBtnLoginRegister\n  } = useState(''),\n        {\n    0: userLogged,\n    1: setUserLogged\n  } = useState('d-none'),\n        {\n    0: userLoggedSellers,\n    1: setUserLoggedSellers\n  } = useState('d-none'),\n        {\n    0: userLoggedInfluencer,\n    1: setUserLoggedInfluencer\n  } = useState('d-none'),\n        {\n    0: userLoggedBusiness,\n    1: setUserLoggedBusiness\n  } = useState('d-none'),\n        {\n    0: stateNav,\n    1: setStateNav\n  } = useState('navbar-vertical-close'),\n        {\n    0: navbarContent,\n    1: setNavbarContent\n  } = useState('navbar-content-close'),\n        {\n    0: offOn,\n    1: setOffOn\n  } = useState('d-none'),\n        {\n    0: userLoggedNormal,\n    1: setUserLoggedNormal\n  } = useState('d-none');\n\n  const Logout = async () => {\n    await RemoveItem('user');\n    setCookie({}); // removeCookie('user');\n    // removeCookie();\n    // await document.cookie.split(\";\").forEach((c) => {\n    //     document.cookie = c\n    //     .replace(/^ +/, \"\")\n    //     .replace(/=.*/, \"=;expires=\" + new Date().toUTCString() + \";path=/\");\n    // });\n\n    return true;\n  };\n\n  const handlerLogout = async () => {\n    await Logout().then(success => {\n      if (!cookies.user && success) {\n        Router.push('/');\n      }\n    });\n  };\n\n  useEffect(() => {\n    var _cookies$user, _cookies$user2, _cookies$user3, _cookies$user4;\n\n    (cookies === null || cookies === void 0 ? void 0 : (_cookies$user = cookies.user) === null || _cookies$user === void 0 ? void 0 : _cookies$user.rol) === 'user' && setUserLoggedNormal('');\n\n    if ((cookies === null || cookies === void 0 ? void 0 : (_cookies$user2 = cookies.user) === null || _cookies$user2 === void 0 ? void 0 : _cookies$user2.rol) === 'master') {\n      setUserLogged('');\n      setUserLoggedNormal('');\n      setUserLoggedSellers('');\n      setUserLoggedBusiness('');\n    }\n\n    if ((cookies === null || cookies === void 0 ? void 0 : (_cookies$user3 = cookies.user) === null || _cookies$user3 === void 0 ? void 0 : _cookies$user3.rol) === 'seller') {\n      setUserLoggedNormal('');\n      setUserLoggedSellers('');\n      setUserLoggedBusiness('');\n    }\n\n    if ((cookies === null || cookies === void 0 ? void 0 : (_cookies$user4 = cookies.user) === null || _cookies$user4 === void 0 ? void 0 : _cookies$user4.rol) === 'influencer') {\n      setUserLoggedInfluencer('');\n    }\n\n    if (cookies === null || cookies === void 0 ? void 0 : cookies.user) {\n      var _cookies$user5;\n\n      setViewBtnLoginRegister('d-none');\n      ((_cookies$user5 = cookies.user) === null || _cookies$user5 === void 0 ? void 0 : _cookies$user5.discount_token) && setOffOn('');\n    }\n\n    if (!(cookies === null || cookies === void 0 ? void 0 : cookies.user)) {\n      setUserLogged('d-none');\n      setUserLoggedBusiness('d-none');\n      setUserLoggedInfluencer('d-none');\n      setUserLoggedNormal('d-none');\n      setViewBtnLoginRegister('');\n      setUserLoggedSellers('d-none');\n      setOffOn('d-none');\n    }\n\n    console.log(cookies);\n  }, cookies === null || cookies === void 0 ? void 0 : cookies.user);\n\n  const handlerInputSearch = e => {\n    setInputSearch(e.target.value);\n  };\n\n  const handlerSendSearch = e => {\n    e.preventDefault();\n    inputSearch && inputSearch !== '' ? Router.push(`/buscar/${inputSearch}`) : false;\n  };\n\n  const handleSwitchNavbar = () => {\n    if (stateNav === 'navbar-vertical-close') {\n      setStateNav('navbar-vertical');\n      setNavbarContent('navbar-content');\n    } else {\n      setStateNav('navbar-vertical-close');\n      setNavbarContent('navbar-vertical-close');\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"header\", {\n    className: \"row\"\n  }, __jsx(\"nav\", {\n    className: \"navbar navbar-expand-lg navbar-dark col-12 col-sm-12 col-lg-12 col-xl-12\"\n  }, __jsx(\"button\", {\n    onClick: handleSwitchNavbar,\n    className: \"btn mt-2\",\n    type: \"button\"\n  }, __jsx(\"i\", {\n    className: \"large material-icons text-light\"\n  }, \"dehaze\")), __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", {\n    className: \"navbar-brand\"\n  }, __jsx(\"img\", {\n    className: \"brand\",\n    src: \"../../img/brand.png\",\n    alt: \"MarketBlets\"\n  }))), __jsx(\"button\", {\n    className: \"navbar-toggler\",\n    type: \"button\",\n    \"data-toggle\": \"collapse\",\n    \"data-target\": \"#navbarSupportedContent\",\n    \"aria-controls\": \"navbarSupportedContent\",\n    \"aria-expanded\": \"false\",\n    \"aria-label\": \"Toggle navigation\"\n  }, __jsx(\"i\", {\n    className: \"large material-icons text-light\"\n  }, \"apps\")), __jsx(\"article\", {\n    className: \"collapse navbar-collapse\",\n    id: \"navbarSupportedContent\"\n  }, __jsx(\"ul\", {\n    className: \"navbar-nav mr-auto\"\n  }, __jsx(\"li\", {\n    className: \"nav-item active\"\n  }, __jsx(Link, {\n    href: \"/\",\n    as: \"/\"\n  }, __jsx(\"a\", {\n    className: \"nav-link\"\n  }, \"Inicio \", __jsx(\"span\", {\n    className: \"sr-only\"\n  }, \"(current)\")))), __jsx(\"li\", {\n    className: `nav-item ${userLogged}`\n  }, __jsx(Link, {\n    href: \"/mi-negocio\",\n    as: \"/mi-negocio\"\n  }, __jsx(\"a\", {\n    className: \"nav-link\"\n  }, \"Mi negocio\"))), __jsx(\"li\", {\n    className: `nav-item ${userLoggedBusiness}`\n  }, __jsx(Link, {\n    href: \"/negocios\",\n    as: \"/negocios\"\n  }, __jsx(\"a\", {\n    className: \"nav-link\"\n  }, \"Negocio\"))), __jsx(\"li\", {\n    className: `nav-item ${userLoggedInfluencer}`\n  }, __jsx(Link, {\n    href: \"/mi-perfil\",\n    as: \"/mi-perfil\"\n  }, __jsx(\"a\", {\n    className: \"nav-link\"\n  }, \"Mi perfil\"))), __jsx(\"li\", {\n    className: `nav-item ${userLoggedNormal}`\n  }, __jsx(Link, {\n    href: \"/usuario/perfil\",\n    as: \"/usuario/perfil\"\n  }, __jsx(\"a\", {\n    className: \"nav-link\"\n  }, \"Mi perfil\"))), __jsx(\"li\", {\n    className: `nav-item ${userLoggedSellers}`\n  }, __jsx(Link, {\n    href: \"/pedidos\",\n    as: \"/pedidos\"\n  }, __jsx(\"a\", {\n    className: \"nav-link\"\n  }, \"Mis pedidos\"))), __jsx(\"li\", {\n    className: \"nav-item\"\n  }, __jsx(Link, {\n    href: \"/iniciar-sesion\",\n    as: \"/iniciar-sesion\"\n  }, __jsx(\"a\", {\n    className: `content-btn-register-now nav-link ${viewBtnLoginRegister ? 'd-none' : ''}`\n  }, \"Ingresar\"))), __jsx(\"li\", {\n    className: \"nav-item\"\n  }, __jsx(Link, {\n    href: \"/registrarme\",\n    as: \"/registrarme\"\n  }, __jsx(\"a\", {\n    className: `content-btn-register-now nav-link ${viewBtnLoginRegister ? 'd-none' : ''}`\n  }, \"Registrarme\"))), __jsx(\"li\", {\n    className: \"nav-item\"\n  }, __jsx(Link, {\n    href: \"/\",\n    as: \"/\"\n  }, __jsx(\"a\", {\n    className: `content-btn-register-now nav-link ${!viewBtnLoginRegister ? 'd-none' : ''}`,\n    onClick: handlerLogout\n  }, \"Cerrar sesi\\xF3n\"))), __jsx(\"li\", {\n    className: `nav-item ${offOn}`\n  }, __jsx(\"span\", {\n    className: \"badge bg-danger text-light p-1\"\n  }, \"Descuentos activos!\"))), Router.pathname !== '/' && __jsx(\"article\", {\n    className: \"form-inline my-2 pl-0 my-lg-0 col-8 col-sm-8 col-lg-3 col-xl-3\"\n  }, __jsx(\"form\", {\n    onSubmit: handlerSendSearch,\n    className: \"bg-light col-12 frm-search-engine-header\"\n  }, __jsx(\"input\", {\n    onChange: handlerInputSearch,\n    className: \"form-control mr-sm-2\",\n    type: \"search\",\n    placeholder: \"Buscalo ac\\xE1\",\n    \"aria-label\": \"Search\",\n    value: inputSearch\n  }), __jsx(\"button\", {\n    className: \"btn my-2 my-sm-0 btn-primary\",\n    type: \"submit\"\n  }, \"Ir\")))))), __jsx(\"article\", {\n    className: `row ${stateNav}`\n  }, __jsx(\"article\", {\n    className: `pl-4 ${navbarContent}`\n  }, __jsx(\"ul\", null, __jsx(\"li\", null, __jsx(\"button\", {\n    onClick: handleSwitchNavbar,\n    className: \"btn\",\n    type: \"button\"\n  }, __jsx(\"i\", {\n    className: \"large material-icons text-light\"\n  }, \"dehaze\"))), __jsx(\"li\", null, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", null, __jsx(\"img\", {\n    className: \"brand\",\n    src: \"../../img/brand.png\",\n    alt: \"MarketBlets\"\n  })))))), __jsx(NavbarVertical, null)));\n};\n\nexport default Header;","map":null,"metadata":{},"sourceType":"module"}