{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport NavbarVertical from './navbar.vertical.component';\nimport { useEffect } from 'react';\nimport { useState } from 'react'; // import InputTokenInfluencer from './get.token.influencer';\n\nimport { useRouter } from 'next/router';\nimport CategoryList from './management/category.list.component';\nimport RemoveItem from './localStorage/removeItem';\nimport GetItem from \"./localStorage/getItem\";\n\nvar Header = function Header() {\n  var Router = useRouter(),\n      _useState = useState(GetItem('user')),\n      cookies = _useState[0],\n      setCookie = _useState[1],\n      _useState2 = useState(''),\n      inputSearch = _useState2[0],\n      setInputSearch = _useState2[1],\n      _useState3 = useState(''),\n      viewBtnLoginRegister = _useState3[0],\n      setViewBtnLoginRegister = _useState3[1],\n      _useState4 = useState('d-none'),\n      userLogged = _useState4[0],\n      setUserLogged = _useState4[1],\n      _useState5 = useState('d-none'),\n      userLoggedSellers = _useState5[0],\n      setUserLoggedSellers = _useState5[1],\n      _useState6 = useState('d-none'),\n      userLoggedInfluencer = _useState6[0],\n      setUserLoggedInfluencer = _useState6[1],\n      _useState7 = useState('d-none'),\n      userLoggedBusiness = _useState7[0],\n      setUserLoggedBusiness = _useState7[1],\n      _useState8 = useState('navbar-vertical-close'),\n      stateNav = _useState8[0],\n      setStateNav = _useState8[1],\n      _useState9 = useState('navbar-content-close'),\n      navbarContent = _useState9[0],\n      setNavbarContent = _useState9[1],\n      _useState10 = useState('d-none'),\n      offOn = _useState10[0],\n      setOffOn = _useState10[1],\n      _useState11 = useState('d-none'),\n      userLoggedNormal = _useState11[0],\n      setUserLoggedNormal = _useState11[1];\n\n  var Logout = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return RemoveItem('user');\n\n            case 2:\n              setCookie({}); // removeCookie('user');\n              // removeCookie();\n              // await document.cookie.split(\";\").forEach((c) => {\n              //     document.cookie = c\n              //     .replace(/^ +/, \"\")\n              //     .replace(/=.*/, \"=;expires=\" + new Date().toUTCString() + \";path=/\");\n              // });\n\n              return _context.abrupt(\"return\", true);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function Logout() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handlerLogout = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return Logout().then(function (success) {\n                if (!cookies.user && success) {\n                  Router.push('/');\n                }\n              });\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handlerLogout() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    var _cookies$user, _cookies$user2, _cookies$user3, _cookies$user4;\n\n    (cookies === null || cookies === void 0 ? void 0 : (_cookies$user = cookies.user) === null || _cookies$user === void 0 ? void 0 : _cookies$user.rol) === 'user' && setUserLoggedNormal('');\n\n    if ((cookies === null || cookies === void 0 ? void 0 : (_cookies$user2 = cookies.user) === null || _cookies$user2 === void 0 ? void 0 : _cookies$user2.rol) === 'master') {\n      setUserLogged('');\n      setUserLoggedNormal('');\n      setUserLoggedSellers('');\n      setUserLoggedBusiness('');\n    }\n\n    if ((cookies === null || cookies === void 0 ? void 0 : (_cookies$user3 = cookies.user) === null || _cookies$user3 === void 0 ? void 0 : _cookies$user3.rol) === 'seller') {\n      setUserLoggedNormal('');\n      setUserLoggedSellers('');\n      setUserLoggedBusiness('');\n    }\n\n    if ((cookies === null || cookies === void 0 ? void 0 : (_cookies$user4 = cookies.user) === null || _cookies$user4 === void 0 ? void 0 : _cookies$user4.rol) === 'influencer') {\n      setUserLoggedInfluencer('');\n    }\n\n    if (cookies === null || cookies === void 0 ? void 0 : cookies.user) {\n      var _cookies$user5;\n\n      setViewBtnLoginRegister('d-none');\n      ((_cookies$user5 = cookies.user) === null || _cookies$user5 === void 0 ? void 0 : _cookies$user5.discount_token) && setOffOn('');\n    }\n\n    if (!(cookies === null || cookies === void 0 ? void 0 : cookies.user)) {\n      setUserLogged('d-none');\n      setUserLoggedBusiness('d-none');\n      setUserLoggedInfluencer('d-none');\n      setUserLoggedNormal('d-none');\n      setViewBtnLoginRegister('');\n      setUserLoggedSellers('d-none');\n      setOffOn('d-none');\n    }\n\n    console.log(cookies);\n  }, cookies === null || cookies === void 0 ? void 0 : cookies.user);\n\n  var handlerInputSearch = function handlerInputSearch(e) {\n    setInputSearch(e.target.value);\n  };\n\n  var handlerSendSearch = function handlerSendSearch(e) {\n    e.preventDefault();\n    inputSearch && inputSearch !== '' ? Router.push(\"/buscar/\".concat(inputSearch)) : false;\n  };\n\n  var handleSwitchNavbar = function handleSwitchNavbar() {\n    if (stateNav === 'navbar-vertical-close') {\n      setStateNav('navbar-vertical');\n      setNavbarContent('navbar-content');\n    } else {\n      setStateNav('navbar-vertical-close');\n      setNavbarContent('navbar-vertical-close');\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"header\", {\n    className: \"row\"\n  }, __jsx(\"nav\", {\n    className: \"navbar navbar-expand-lg navbar-dark col-12 col-sm-12 col-lg-12 col-xl-12\"\n  }, __jsx(\"button\", {\n    onClick: handleSwitchNavbar,\n    className: \"btn mt-2\",\n    type: \"button\"\n  }, __jsx(\"i\", {\n    className: \"large material-icons text-light\"\n  }, \"dehaze\")), __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", {\n    className: \"navbar-brand\"\n  }, __jsx(\"img\", {\n    className: \"brand\",\n    src: \"../../img/brand.png\",\n    alt: \"MarketBlets\"\n  }))), __jsx(\"button\", {\n    className: \"navbar-toggler\",\n    type: \"button\",\n    \"data-toggle\": \"collapse\",\n    \"data-target\": \"#navbarSupportedContent\",\n    \"aria-controls\": \"navbarSupportedContent\",\n    \"aria-expanded\": \"false\",\n    \"aria-label\": \"Toggle navigation\"\n  }, __jsx(\"i\", {\n    className: \"large material-icons text-light\"\n  }, \"apps\")), __jsx(\"article\", {\n    className: \"collapse navbar-collapse\",\n    id: \"navbarSupportedContent\"\n  }, __jsx(\"ul\", {\n    className: \"navbar-nav mr-auto\"\n  }, __jsx(\"li\", {\n    className: \"nav-item active\"\n  }, __jsx(Link, {\n    href: \"/\",\n    as: \"/\"\n  }, __jsx(\"a\", {\n    className: \"nav-link\"\n  }, \"Inicio \", __jsx(\"span\", {\n    className: \"sr-only\"\n  }, \"(current)\")))), __jsx(\"li\", {\n    className: \"nav-item \".concat(userLogged)\n  }, __jsx(Link, {\n    href: \"/mi-negocio\",\n    as: \"/mi-negocio\"\n  }, __jsx(\"a\", {\n    className: \"nav-link\"\n  }, \"Mi negocio\"))), __jsx(\"li\", {\n    className: \"nav-item \".concat(userLoggedBusiness)\n  }, __jsx(Link, {\n    href: \"/negocios\",\n    as: \"/negocios\"\n  }, __jsx(\"a\", {\n    className: \"nav-link\"\n  }, \"Negocio\"))), __jsx(\"li\", {\n    className: \"nav-item \".concat(userLoggedInfluencer)\n  }, __jsx(Link, {\n    href: \"/mi-perfil\",\n    as: \"/mi-perfil\"\n  }, __jsx(\"a\", {\n    className: \"nav-link\"\n  }, \"Mi perfil\"))), __jsx(\"li\", {\n    className: \"nav-item \".concat(userLoggedNormal)\n  }, __jsx(Link, {\n    href: \"/usuario/perfil\",\n    as: \"/usuario/perfil\"\n  }, __jsx(\"a\", {\n    className: \"nav-link\"\n  }, \"Mi perfil\"))), __jsx(\"li\", {\n    className: \"nav-item \".concat(userLoggedSellers)\n  }, __jsx(Link, {\n    href: \"/pedidos\",\n    as: \"/pedidos\"\n  }, __jsx(\"a\", {\n    className: \"nav-link\"\n  }, \"Mis pedidos\"))), __jsx(\"li\", {\n    className: \"nav-item\"\n  }, __jsx(Link, {\n    href: \"/iniciar-sesion\",\n    as: \"/iniciar-sesion\"\n  }, __jsx(\"a\", {\n    className: \"content-btn-register-now nav-link \".concat(viewBtnLoginRegister ? 'd-none' : '')\n  }, \"Ingresar\"))), __jsx(\"li\", {\n    className: \"nav-item\"\n  }, __jsx(Link, {\n    href: \"/registrarme\",\n    as: \"/registrarme\"\n  }, __jsx(\"a\", {\n    className: \"content-btn-register-now nav-link \".concat(viewBtnLoginRegister ? 'd-none' : '')\n  }, \"Registrarme\"))), __jsx(\"li\", {\n    className: \"nav-item\"\n  }, __jsx(Link, {\n    href: \"/\",\n    as: \"/\"\n  }, __jsx(\"a\", {\n    className: \"content-btn-register-now nav-link \".concat(!viewBtnLoginRegister ? 'd-none' : ''),\n    onClick: handlerLogout\n  }, \"Cerrar sesi\\xF3n\"))), __jsx(\"li\", {\n    className: \"nav-item \".concat(offOn)\n  }, __jsx(\"span\", {\n    className: \"badge bg-danger text-light p-1\"\n  }, \"Descuentos activos!\"))), Router.pathname !== '/' && __jsx(\"article\", {\n    className: \"form-inline my-2 pl-0 my-lg-0 col-8 col-sm-8 col-lg-3 col-xl-3\"\n  }, __jsx(\"form\", {\n    onSubmit: handlerSendSearch,\n    className: \"bg-light col-12 frm-search-engine-header\"\n  }, __jsx(\"input\", {\n    onChange: handlerInputSearch,\n    className: \"form-control mr-sm-2\",\n    type: \"search\",\n    placeholder: \"Buscalo ac\\xE1\",\n    \"aria-label\": \"Search\",\n    value: inputSearch\n  }), __jsx(\"button\", {\n    className: \"btn my-2 my-sm-0 btn-primary\",\n    type: \"submit\"\n  }, \"Ir\")))))), __jsx(\"article\", {\n    className: \"row \".concat(stateNav)\n  }, __jsx(\"article\", {\n    className: \"pl-4 \".concat(navbarContent)\n  }, __jsx(\"ul\", null, __jsx(\"li\", null, __jsx(\"button\", {\n    onClick: handleSwitchNavbar,\n    className: \"btn\",\n    type: \"button\"\n  }, __jsx(\"i\", {\n    className: \"large material-icons text-light\"\n  }, \"dehaze\"))), __jsx(\"li\", null, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", null, __jsx(\"img\", {\n    className: \"brand\",\n    src: \"../../img/brand.png\",\n    alt: \"MarketBlets\"\n  })))))), __jsx(NavbarVertical, null)));\n};\n\nexport default Header;","map":null,"metadata":{},"sourceType":"module"}