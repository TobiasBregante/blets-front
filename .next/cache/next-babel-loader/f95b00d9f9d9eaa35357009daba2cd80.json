{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/naza/Escritorio/marketblets/front-end/components/product/product.component.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport { useCookies } from 'react-cookie';\nimport { useRouter } from \"next/router\";\nimport CurrencyFormat from 'react-currency-format';\nimport SendTransaction from './send.transaction.component';\nimport RemoveProduct from '../management/remove.product.component';\nimport EditProduct from '../management/edit.product.component';\nimport { Image, Video, Transformation, CloudinaryContext } from 'cloudinary-react';\nimport { useRef } from 'react';\nimport Link from 'next/link';\n\nvar Product = function Product(prop) {\n  _s();\n\n  var Router = useRouter();\n  var _Router$query = Router.query,\n      id = _Router$query.id,\n      name = _Router$query.name;\n  var imgContent = useRef(null);\n\n  var _useState = useState(''),\n      credential = _useState[0],\n      setCredential = _useState[1];\n\n  var _useState2 = useState('d-none'),\n      imgCard = _useState2[0],\n      setImgCard = _useState2[1];\n\n  var _useState3 = useState(''),\n      imgContentState = _useState3[0],\n      setImgContentState = _useState3[1];\n\n  var _useCookies = useCookies(['user']),\n      _useCookies2 = _slicedToArray(_useCookies, 2),\n      cookies = _useCookies2[0],\n      setCookie = _useCookies2[1];\n\n  var _useState4 = useState([]),\n      product = _useState4[0],\n      setProduct = _useState4[1];\n\n  var _useState5 = useState('d-none'),\n      influencerTokenExist = _useState5[0],\n      setInfluencerTokenExist = _useState5[1];\n\n  var _useState6 = useState(''),\n      userIsNotReffered = _useState6[0],\n      setUserIsNotReffered = _useState6[1];\n\n  var _useState7 = useState(''),\n      influencerTokenNoExist = _useState7[0],\n      setInfluencerTokenNoExist = _useState7[1];\n\n  var _useState8 = useState('accept-payment-close'),\n      acceptPaymentSwitch = _useState8[0],\n      setAcceptPaymentSwitch = _useState8[1];\n\n  var _useState9 = useState('Compralo en un instante!'),\n      valueBtnSwitchPayment = _useState9[0],\n      setValueBtnSwitchPayment = _useState9[1];\n\n  var _useState10 = useState('d-none'),\n      switchNextStepPayment = _useState10[0],\n      setSwitchNextStepPayment = _useState10[1];\n\n  useEffect(function () {\n    if (cookies.user && cookies.user.rol !== 'master') {\n      setCredential('false');\n    } else if (!cookies.user) {\n      setCredential('false');\n    }\n\n    if (cookies.user && cookies.user.rol === 'master') {\n      setCredential('true');\n    }\n\n    var handlerTokenExist = function handlerTokenExist() {\n      if (cookies.user && cookies.user.discount_token) {\n        setInfluencerTokenExist('');\n        setInfluencerTokenNoExist('d-none');\n        setUserIsNotReffered('');\n      } else {\n        setInfluencerTokenExist('d-none');\n        setInfluencerTokenNoExist('');\n        setUserIsNotReffered('d-none');\n      } //kfuiqqbr-blets\n\n    };\n\n    if (product.img) setImgContentState(imgContent.current.offsetWidth);\n    handlerTokenExist();\n  }, null);\n\n  var handlerAcceptPaymentSwitch = function handlerAcceptPaymentSwitch(e) {\n    if (cookies.user) {\n      if (acceptPaymentSwitch === 'accept-payment-close') {\n        e.target.classList.toggle('btn-danger');\n        e.target.classList.remove('btn-buy-now');\n        setValueBtnSwitchPayment('Cerrar');\n        setAcceptPaymentSwitch('');\n      } else {\n        e.target.classList.toggle('btn-danger');\n        e.target.classList.add('btn-buy-now');\n        setValueBtnSwitchPayment('Pagar con Mercado Pago!');\n        setAcceptPaymentSwitch('accept-payment-close');\n      }\n    } else {\n      window.location = '/iniciar-sesion';\n    }\n  };\n\n  var handlerTransaction = function handlerTransaction() {\n    var objectTransaction = {\n      id_product: product._id,\n      token_influencer: cookies.user.discount_token ? cookies.user.discount_token : 'organic',\n      id_client: cookies.user.id,\n      status_transaction: 'pending'\n    };\n    SendTransaction(objectTransaction).then(function (success) {\n      setSwitchNextStepPayment('d-block');\n    })[\"catch\"](function (err) {\n      return console.error(err);\n    });\n  };\n\n  useEffect(function () {\n    var getAllProduct = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var fetchAll, dataFetch;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"\".concat(process.env.API_PATH, \"/v1/product/\").concat(id), {\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Access-Control-Allow-Origin': '*'\n                  }\n                });\n\n              case 2:\n                fetchAll = _context.sent;\n                _context.next = 5;\n                return fetchAll.json();\n\n              case 5:\n                dataFetch = _context.sent;\n                setProduct(dataFetch);\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function getAllProduct() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    getAllProduct();\n  }, [id]);\n  return __jsx(React.Fragment, null, __jsx(\"section\", {\n    className: \"row section-product\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, __jsx(\"article\", {\n    className: \"col-12 col-sm-12 col-lg-12 col-xl-12 p-0 m-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, __jsx(\"nav\", {\n    \"aria-label\": \"breadcrumb\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, __jsx(\"ol\", {\n    className: \"breadcrumb\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, __jsx(\"li\", {\n    className: \"breadcrumb-item\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  }, __jsx(Link, {\n    href: \"/\",\n    as: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 57\n    }\n  }, __jsx(\"a\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 79\n    }\n  }, \"Inicio\"))), __jsx(\"li\", {\n    className: \"breadcrumb-item active text-light\",\n    \"aria-current\": \"page\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }, name)))), __jsx(\"article\", {\n    className: \"col-12 col-sm-12 col-lg-8 col-xl-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, __jsx(\"article\", {\n    ref: imgContent,\n    className: \"col-12 content-img-prod-open\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, credential === 'true' ? __jsx(RemoveProduct, {\n    product: product,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 46\n    }\n  }) : false, credential === 'true' ? __jsx(EditProduct, {\n    product: product,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 46\n    }\n  }) : false, product.img ? __jsx(CloudinaryContext, {\n    cloudName: \"blets\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 27\n    }\n  }, __jsx(Image, {\n    className: \"card-img\",\n    publicId: \"\".concat(product.img, \".jpg\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 29\n    }\n  }, __jsx(Transformation, {\n    crop: \"scale\",\n    quality: \"40\",\n    width: 100,\n    dpr: \"auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 33\n    }\n  }))) : ''), __jsx(\"article\", {\n    className: \"col-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, __jsx(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  }, \"Descripci\\xF3n\"), __jsx(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 41\n    }\n  }), __jsx(\"ul\", {\n    type: \"none\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, __jsx(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 25\n    }\n  }, \"- Categor\\xEDa: \", __jsx(\"span\", {\n    className: \"text-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 42\n    }\n  }, __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 71\n    }\n  }, product.type)), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 109\n    }\n  })), __jsx(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  }, \"- Nombre del negocio: \", __jsx(\"span\", {\n    className: \"text-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 51\n    }\n  }, __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 80\n    }\n  }, product.business))), __jsx(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  }, \"- Ubicaci\\xF3n: \", __jsx(\"span\", {\n    className: \"text-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 38\n    }\n  }, __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 67\n    }\n  }, product.location)))), __jsx(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 26\n    }\n  }), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }, product.description))), __jsx(\"article\", {\n    className: \"col-12 col-sm-12 col-lg-4 col-xl-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, __jsx(\"article\", {\n    className: \"col-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, __jsx(\"h1\", {\n    className: \"component-info-buy\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }, product.title), __jsx(\"h4\", {\n    className: \"text-primary component-info-buy \".concat(userIsNotReffered),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }, product.amount !== 0 ? __jsx(CurrencyFormat, {\n    value: product.amount,\n    displayType: 'text',\n    thousandSeparator: true,\n    prefix: '$',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 27\n    }\n  }) : __jsx(\"span\", {\n    className: \"text-success\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 27\n    }\n  }, \"GRATIS\")), __jsx(\"h4\", {\n    className: \"text-light component-info-buy \".concat(influencerTokenNoExist),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }, product.amount !== 0 ? __jsx(CurrencyFormat, {\n    value: product.amount,\n    displayType: 'text',\n    thousandSeparator: true,\n    prefix: '$',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 27\n    }\n  }) : __jsx(\"span\", {\n    className: \"text-success\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 27\n    }\n  }, \"GRATIS\")), __jsx(\"strike\", {\n    className: influencerTokenExist,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 21\n    }\n  }, __jsx(\"h5\", {\n    className: \"text-secondary component-info-buy \".concat(product.discount === 0 ? 'd-none' : ''),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 25\n    }\n  }, __jsx(CurrencyFormat, {\n    value: product.amount * product.discount / 100,\n    displayType: 'text',\n    thousandSeparator: true,\n    prefix: '$',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 29\n    }\n  }))), __jsx(\"p\", {\n    className: \"col-12 col-sm-12 col-lg-6 col-xl-6 p-0 m-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: \"\".concat(!product.shipping ? 'd-none' : 'd-block', \" shipping-open bg-primary text-light\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 25\n    }\n  }, \"Lo recib\\xEDs en tu domicilio\"), __jsx(\"span\", {\n    className: \"shipping-open bg-success text-light d-block\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 25\n    }\n  }, \"Env\\xEDo gratis\"))), __jsx(\"article\", {\n    className: \"col-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }\n  }, __jsx(\"p\", {\n    className: \"component-info-buy\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 21\n    }\n  }, \"Pag\\xE1 al contado o en cuotas con\", __jsx(\"span\", {\n    className: \"text-info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 21\n    }\n  }, \" \", __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 50\n    }\n  }, \"Mercado Pago\"))), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: \"bg-primary p-2 text-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 25\n    }\n  }, \"Se encuentra en \", __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 45\n    }\n  }, product.location))), __jsx(\"article\", {\n    className: \"col-12 p-1 content-method-buy-steps mb-2 text-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 21\n    }\n  }, __jsx(\"ol\", {\n    type: \"1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 25\n    }\n  }, __jsx(\"li\", {\n    className: \"p-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 29\n    }\n  }, \"Hac\\xE9 click en \", __jsx(\"small\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 63\n    }\n  }, \"\\\"Compralo en un instante!\\\"\")), __jsx(\"li\", {\n    className: \"p-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 29\n    }\n  }, \"Hac\\xE9 el pago con Mercado Pago\"), __jsx(\"li\", {\n    className: \"p-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 29\n    }\n  }, \"Sacale una foto o screenshot al comprobante de pago\"), __jsx(\"li\", {\n    className: \"p-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 29\n    }\n  }, __jsx(\"a\", {\n    href: \"#\",\n    className: \"btn btn-success\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 49\n    }\n  }, \"Env\\xEDalo por WhatsApp!\")))), __jsx(\"article\", {\n    className: \"col-12 accept-payment \".concat(acceptPaymentSwitch),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 21\n    }\n  }, __jsx(\"article\", {\n    className: \"content--btn-payment p-5 \".concat(acceptPaymentSwitch),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 25\n    }\n  }, __jsx(\"article\", {\n    className: \"btn-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 29\n    }\n  }, __jsx(\"p\", {\n    className: \"\".concat(acceptPaymentSwitch),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 33\n    }\n  }, \"Finaliza tu pago, y te lo enviamos a tu casa!\"), __jsx(\"a\", {\n    href: product.payment,\n    onClick: handlerTransaction,\n    target: \"_blank\",\n    className: \"btn btn-primary text-light d-block \".concat(acceptPaymentSwitch),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 33\n    }\n  }, \"Pagar con Mercado Pago!\"), __jsx(\"p\", {\n    className: \"mt-4 content-cbu\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 33\n    }\n  }, \"CBU: \", __jsx(\"span\", {\n    className: \"text-warning\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 42\n    }\n  }, \"0720006988000038698918\")), __jsx(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 37\n    }\n  }), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 33\n    }\n  }, __jsx(\"img\", {\n    className: \"ico-payments\",\n    src: \"../img/visa.png\",\n    alt: \"Visa\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 37\n    }\n  }), __jsx(\"img\", {\n    className: \"ico-payments\",\n    src: \"../img/mastercard.png\",\n    alt: \"Mastercard\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 37\n    }\n  }), __jsx(\"img\", {\n    className: \"ico-payments\",\n    src: \"../img/transfer.png\",\n    alt: \"Transferencia\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 37\n    }\n  }), __jsx(\"img\", {\n    className: \"ico-payments\",\n    src: \"../img/mp.webp\",\n    alt: \"Mercado Pago\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 37\n    }\n  })), __jsx(\"p\", {\n    className: \"mt-4 \".concat(switchNextStepPayment),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 33\n    }\n  }, \"Est\\xE1s a un paso de finalizar tu compra!\", __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 119\n    }\n  }), \"Env\\xEDa una foto del comprobante \", __jsx(\"a\", {\n    href: \"#\",\n    className: \"btn btn-success\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 64\n    }\n  }, \"Env\\xEDalo por WhatsApp!\"))))), __jsx(\"input\", {\n    onClick: handlerAcceptPaymentSwitch,\n    type: \"button\",\n    className: \"btn btn-buy-now text-light d-block col-12\",\n    value: valueBtnSwitchPayment,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 21\n    }\n  })))));\n}; // 0720006988000038698918\n\n\n_s(Product, \"6vhctk5vvLPFNLrvBMqEY0MqE3A=\", false, function () {\n  return [useRouter, useCookies];\n});\n\n_c = Product;\nexport default Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"sources":["/home/naza/Escritorio/marketblets/front-end/components/product/product.component.jsx"],"names":["useState","useEffect","useCookies","useRouter","CurrencyFormat","SendTransaction","RemoveProduct","EditProduct","Image","Video","Transformation","CloudinaryContext","useRef","Link","Product","prop","Router","query","id","name","imgContent","credential","setCredential","imgCard","setImgCard","imgContentState","setImgContentState","cookies","setCookie","product","setProduct","influencerTokenExist","setInfluencerTokenExist","userIsNotReffered","setUserIsNotReffered","influencerTokenNoExist","setInfluencerTokenNoExist","acceptPaymentSwitch","setAcceptPaymentSwitch","valueBtnSwitchPayment","setValueBtnSwitchPayment","switchNextStepPayment","setSwitchNextStepPayment","user","rol","handlerTokenExist","discount_token","img","current","offsetWidth","handlerAcceptPaymentSwitch","e","target","classList","toggle","remove","add","window","location","handlerTransaction","objectTransaction","id_product","_id","token_influencer","id_client","status_transaction","then","success","err","console","error","getAllProduct","fetch","process","env","API_PATH","headers","fetchAll","json","dataFetch","type","business","description","title","amount","discount","shipping","payment"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useCookies } from 'react-cookie';\r\nimport { useRouter } from \"next/router\";\r\nimport CurrencyFormat from 'react-currency-format';\r\nimport SendTransaction from './send.transaction.component';\r\nimport RemoveProduct from '../management/remove.product.component';\r\nimport EditProduct from '../management/edit.product.component';\r\nimport {Image, Video, Transformation, CloudinaryContext} from 'cloudinary-react';\r\nimport { useRef } from 'react';\r\nimport Link from 'next/link';\r\n\r\nconst Product = prop => {\r\n    const Router = useRouter();\r\n    const { id, name } = Router.query;\r\n    const imgContent = useRef(null);\r\n    const [credential, setCredential] = useState('');\r\n    const [imgCard, setImgCard] = useState('d-none')\r\n    const [imgContentState, setImgContentState] = useState('');\r\n    const [cookies, setCookie] = useCookies(['user']);\r\n    const [product, setProduct] = useState([]);\r\n    const [influencerTokenExist, setInfluencerTokenExist] = useState('d-none');\r\n    const [userIsNotReffered, setUserIsNotReffered] = useState('')\r\n    const [influencerTokenNoExist, setInfluencerTokenNoExist] = useState('');\r\n    const [acceptPaymentSwitch, setAcceptPaymentSwitch] = useState('accept-payment-close');\r\n    const [valueBtnSwitchPayment, setValueBtnSwitchPayment] = useState('Compralo en un instante!');\r\n    const [switchNextStepPayment, setSwitchNextStepPayment] = useState('d-none');\r\n    useEffect(() => {\r\n        if(cookies.user \r\n            && cookies.user.rol !== 'master'){\r\n            setCredential('false');\r\n        }else if(!cookies.user){\r\n            setCredential('false');\r\n        }\r\n        if(cookies.user \r\n            && cookies.user.rol === 'master'){\r\n            setCredential('true');\r\n        }\r\n        const handlerTokenExist = () => {\r\n            if(cookies.user \r\n                && cookies.user.discount_token){\r\n                setInfluencerTokenExist('')\r\n                setInfluencerTokenNoExist('d-none')\r\n                setUserIsNotReffered('');\r\n            }else{\r\n                setInfluencerTokenExist('d-none')\r\n                setInfluencerTokenNoExist('')\r\n                setUserIsNotReffered('d-none');\r\n            }\r\n            //kfuiqqbr-blets\r\n        }\r\n        if(product.img)setImgContentState(imgContent.current.offsetWidth);\r\n        handlerTokenExist()\r\n    }, null)\r\n    const handlerAcceptPaymentSwitch = e => {\r\n        if(cookies.user){\r\n            if(acceptPaymentSwitch === 'accept-payment-close'){\r\n                e.target.classList.toggle('btn-danger');\r\n                e.target.classList.remove('btn-buy-now');\r\n                setValueBtnSwitchPayment('Cerrar');\r\n                setAcceptPaymentSwitch('');\r\n            }else{\r\n                e.target.classList.toggle('btn-danger');\r\n                e.target.classList.add('btn-buy-now');\r\n                setValueBtnSwitchPayment('Pagar con Mercado Pago!');\r\n                setAcceptPaymentSwitch('accept-payment-close');\r\n            } \r\n        }else{\r\n            window.location = '/iniciar-sesion';\r\n        }\r\n    }\r\n    const handlerTransaction = () => {\r\n        const objectTransaction = {\r\n            id_product: product._id,\r\n            token_influencer: (cookies.user.discount_token) ? cookies.user.discount_token : 'organic',\r\n            id_client: cookies.user.id,\r\n            status_transaction: 'pending'\r\n        }\r\n        SendTransaction(objectTransaction)\r\n        .then(success => {\r\n            setSwitchNextStepPayment('d-block');\r\n        })\r\n        .catch(err => console.error(err))\r\n    }\r\n    useEffect(() => {\r\n        const getAllProduct = async () => {\r\n            const fetchAll = await fetch(`${process.env.API_PATH}/v1/product/${id}`, {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Access-Control-Allow-Origin': '*'\r\n                }\r\n            })\r\n            const dataFetch = await fetchAll.json();\r\n            setProduct(dataFetch);\r\n        }\r\n        getAllProduct()\r\n    }, [id])\r\n    return(\r\n        <>\r\n        <section className=\"row section-product\">\r\n            <article className='col-12 col-sm-12 col-lg-12 col-xl-12 p-0 m-0'>\r\n                <nav aria-label=\"breadcrumb\">\r\n                    <ol className=\"breadcrumb\">\r\n                        <li className=\"breadcrumb-item\"><Link href=\"/\" as='/'><a>Inicio</a></Link></li>\r\n                        <li className=\"breadcrumb-item active text-light\" aria-current=\"page\">{name}</li>\r\n                    </ol>\r\n                </nav>\r\n            </article>\r\n            <article className=\"col-12 col-sm-12 col-lg-8 col-xl-8\">\r\n                <article ref={imgContent} className=\"col-12 content-img-prod-open\">\r\n                    {credential === 'true' ? <RemoveProduct product={product}/> : false}\r\n                    {credential === 'true' ? <EditProduct product={product}/> : false}\r\n                    {\r\n                        product.img \r\n                        ? <CloudinaryContext cloudName=\"blets\">\r\n                            <Image className='card-img' publicId={`${product.img}.jpg`}>\r\n                                <Transformation crop='scale' quality='40' width={(100)} dpr='auto'/>\r\n                            </Image>\r\n                        </CloudinaryContext>\r\n                        : ''\r\n                    }\r\n                </article>\r\n                <article className=\"col-12\">\r\n                    <h2>Descripción</h2><hr/>\r\n                    <ul type='none'>\r\n                        <li>\r\n                            - Categoría: <span className='text-light'><strong>{product.type}</strong></span><br/>\r\n                        </li>\r\n                        <li>\r\n                            - Nombre del negocio: <span className='text-light'><strong>{product.business}</strong></span>\r\n                        </li>\r\n                        <li>\r\n                        - Ubicación: <span className='text-light'><strong>{product.location}</strong></span>\r\n                        </li>\r\n                    </ul><hr/>\r\n                    <p>\r\n                        {product.description}\r\n                    </p>\r\n                </article>\r\n            </article>\r\n            <article className=\"col-12 col-sm-12 col-lg-4 col-xl-4\">\r\n                <article className=\"col-12\">\r\n                    <h1 className=\"component-info-buy\">{product.title}</h1>\r\n                    <h4 className={`text-primary component-info-buy ${userIsNotReffered}`}>\r\n                        {(product.amount !== 0) \r\n                        ? <CurrencyFormat value={product.amount} \r\n                            displayType={'text'} \r\n                            thousandSeparator={true} \r\n                            prefix={'$'}/>\r\n                        : <span className='text-success'>GRATIS</span>}\r\n                    </h4>\r\n                    <h4 className={`text-light component-info-buy ${influencerTokenNoExist}`}>\r\n                        {(product.amount !== 0) \r\n                        ? <CurrencyFormat value={product.amount} displayType={'text'} thousandSeparator={true} prefix={'$'}/>\r\n                        : <span className='text-success'>GRATIS</span>}\r\n                    </h4>\r\n                    <strike className={influencerTokenExist}>\r\n                        <h5 className={`text-secondary component-info-buy ${(product.discount === 0) ? 'd-none' : ''}`}>\r\n                            <CurrencyFormat value={(product.amount * product.discount) / 100} \r\n                                displayType={'text'} \r\n                                thousandSeparator={true} \r\n                                prefix={'$'}/>\r\n                        </h5 >\r\n                    </strike>\r\n                    <p className='col-12 col-sm-12 col-lg-6 col-xl-6 p-0 m-0'>\r\n                        <span className={`${(!product.shipping) ? 'd-none' : 'd-block'} shipping-open bg-primary text-light`}>\r\n                            Lo recibís en tu domicilio\r\n                        </span>\r\n                        <span className={`shipping-open bg-success text-light d-block`}>\r\n                            Envío gratis\r\n                        </span>\r\n                    </p>\r\n                </article>\r\n                <article className=\"col-12\">\r\n                    <p className=\"component-info-buy\">Pagá al contado o en cuotas con \r\n                    <span className=\"text-info\"> <strong>Mercado Pago</strong></span></p>\r\n                    <p>\r\n                        <span className='bg-primary p-2 text-light'>\r\n                            Se encuentra en <strong>{product.location}</strong>\r\n                        </span>\r\n                    </p>\r\n                    <article className='col-12 p-1 content-method-buy-steps mb-2 text-light'>\r\n                        <ol type='1'>\r\n                            <li className='p-1'>Hacé click en <small>\"Compralo en un instante!\"</small></li>\r\n                            <li className='p-1'>Hacé el pago con Mercado Pago</li>\r\n                            <li className='p-1'>Sacale una foto o screenshot al comprobante de pago</li>\r\n                            <li className='p-1'><a href='#' className='btn btn-success'>Envíalo por WhatsApp!</a></li>\r\n                        </ol>\r\n                    </article>\r\n                    <article className={`col-12 accept-payment ${acceptPaymentSwitch}`}>\r\n                        <article className={`content--btn-payment p-5 ${acceptPaymentSwitch}`}>\r\n                            <article className=\"btn-content\">\r\n                                <p className={`${acceptPaymentSwitch}`}>Finaliza tu pago, y te lo enviamos a tu casa!</p>\r\n                                <a href={product.payment} onClick={handlerTransaction} target='_blank' className={`btn btn-primary text-light d-block ${acceptPaymentSwitch}`}>\r\n                                    Pagar con Mercado Pago!\r\n                                </a>\r\n                                <p className='mt-4 content-cbu'>\r\n                                    CBU: <span className='text-warning'>\r\n                                    0720006988000038698918\r\n                                    </span>\r\n                                </p><hr/>\r\n                                <p>\r\n                                    <img className='ico-payments' src=\"../img/visa.png\" alt=\"Visa\"/>\r\n                                    <img className='ico-payments' src=\"../img/mastercard.png\" alt=\"Mastercard\"/>\r\n                                    <img className='ico-payments' src=\"../img/transfer.png\" alt=\"Transferencia\"/>\r\n                                    <img className='ico-payments' src=\"../img/mp.webp\" alt=\"Mercado Pago\"/>\r\n                                </p>\r\n                                <p className={`mt-4 ${switchNextStepPayment}`}>Estás a un paso de finalizar tu compra!<br/>\r\n                                Envía una foto del comprobante <a href='#' className='btn btn-success'>Envíalo por WhatsApp!</a></p>\r\n                            </article>       \r\n                        </article>\r\n                    </article>\r\n                    <input onClick={handlerAcceptPaymentSwitch} type='button' className=\"btn btn-buy-now text-light d-block col-12\" value={valueBtnSwitchPayment}/>\r\n                </article>\r\n            </article>\r\n        </section>\r\n        </>\r\n    )\r\n}\r\n// 0720006988000038698918\r\nexport default Product;"]},"metadata":{},"sourceType":"module"}