{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport CurrencyFormat from 'react-currency-format';\nimport { Image, Video, Transformation, CloudinaryContext } from 'cloudinary-react';\nimport { useRef } from 'react';\n\nconst ProductSubcategory = prop => {\n  const imgContain = useRef(null);\n  const Router = useRouter();\n  const {\n    subcategory\n  } = Router.query;\n  const {\n    0: product,\n    1: setProduct\n  } = useState([]);\n  const {\n    0: imgContentState,\n    1: setImgContentState\n  } = useState('');\n  useEffect(() => {\n    if (imgContain.current) {\n      setImgContentState(imgContain.current.offsetWidth);\n    }\n  }, null);\n  useEffect(() => {\n    const getAllProduct = async () => {\n      const fetchAll = await fetch(`${process.env.API_PATH}/v1/product/category/indumentarias/${subcategory}`, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n      const dataFetch = await fetchAll.json();\n      setProduct(dataFetch);\n    };\n\n    getAllProduct();\n  }, [prop]);\n  return __jsx(React.Fragment, null, __jsx(\"nav\", {\n    \"aria-label\": \"breadcrumb\"\n  }, __jsx(\"ol\", {\n    className: \"breadcrumb\"\n  }, __jsx(\"li\", {\n    className: \"breadcrumb-item\"\n  }, __jsx(Link, {\n    href: \"/\",\n    as: \"/\"\n  }, __jsx(\"a\", null, \"Inicio\"))), __jsx(\"li\", {\n    className: \"breadcrumb-item\"\n  }, __jsx(Link, {\n    href: \"/categorias/[categoria]\",\n    as: \"/categorias/indumentarias\"\n  }, __jsx(\"a\", null, \"indumentarias\"))), __jsx(\"li\", {\n    className: \"breadcrumb-item active text-light\",\n    \"aria-current\": \"page\"\n  }, subcategory))), product && product.length > 0 ? product.map((prod, i) => __jsx(Link, {\n    key: i,\n    href: \"/[name]/[id]\",\n    as: `/${prod.title}/${prod._id}`\n  }, __jsx(\"a\", {\n    className: \"card-product-all card mb-3 col-12 col-sm-12 col-lg-12 col-xl-12\",\n    style: {\n      maxWidth: '540px'\n    }\n  }, __jsx(\"article\", {\n    className: \"row no-gutters\"\n  }, __jsx(\"article\", {\n    ref: imgContain,\n    className: \"col-md-4\"\n  }, prod.img ? __jsx(CloudinaryContext, {\n    cloudName: \"blets\"\n  }, __jsx(Image, {\n    className: \"card-img\",\n    publicId: `${prod.img}.jpg`\n  }, __jsx(Transformation, {\n    crop: \"scale\",\n    quality: \"60\",\n    width: imgContentState - 50,\n    dpr: \"auto\"\n  }))) : ''), __jsx(\"article\", {\n    className: \"col-md-8\"\n  }, __jsx(\"article\", {\n    className: \"card-body\"\n  }, __jsx(\"h5\", {\n    className: \"card-title\"\n  }, prod.title), __jsx(\"p\", {\n    className: \"card-text\"\n  }, prod.description), __jsx(\"p\", {\n    className: \"card-price card-text\"\n  }, prod.amount !== 0 ? __jsx(CurrencyFormat, {\n    value: prod.amount,\n    displayType: 'text',\n    thousandSeparator: true,\n    prefix: '$'\n  }) : __jsx(\"span\", {\n    className: \"text-success\"\n  }, \"GRATIS\")), __jsx(\"p\", {\n    className: \"card-text\"\n  }, __jsx(\"small\", {\n    className: \"text-muted\"\n  }, prod.last_since)))))))) : __jsx(\"h3\", {\n    className: \"p-2 m-auto not-products-title\"\n  }, \"No hay art\\xEDculos disponibles\"));\n};\n\nexport default ProductSubcategory;","map":null,"metadata":{},"sourceType":"module"}