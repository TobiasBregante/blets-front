{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/naza/Escritorio/private/marketblets/front-end/components/product/product.component.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport { useCookies } from 'react-cookie';\nimport { useRouter } from \"next/router\";\nimport CurrencyFormat from 'react-currency-format';\nimport SendTransaction from './send.transaction.component';\nimport RemoveProduct from '../management/remove.product.component';\nimport EditProduct from '../management/edit.product.component';\nimport { Image, Video, Transformation, CloudinaryContext } from 'cloudinary-react';\nimport { useRef } from 'react';\nimport Link from 'next/link';\nimport { PayPalButton } from \"react-paypal-button-v2\";\n\nvar Product = function Product(prop) {\n  _s();\n\n  var Router = useRouter();\n  var _Router$query = Router.query,\n      id = _Router$query.id,\n      name = _Router$query.name;\n  var imgContent = useRef(null);\n\n  var _useState = useState(''),\n      credential = _useState[0],\n      setCredential = _useState[1];\n\n  var _useState2 = useState(''),\n      imgContentState = _useState2[0],\n      setImgContentState = _useState2[1];\n\n  var _useCookies = useCookies(['user']),\n      _useCookies2 = _slicedToArray(_useCookies, 2),\n      cookies = _useCookies2[0],\n      setCookie = _useCookies2[1];\n\n  var _useState3 = useState([]),\n      product = _useState3[0],\n      setProduct = _useState3[1];\n\n  var _useState4 = useState('accept-payment-close'),\n      acceptPaymentSwitch = _useState4[0],\n      setAcceptPaymentSwitch = _useState4[1];\n\n  var _useState5 = useState('Compralo en un instante!'),\n      valueBtnSwitchPayment = _useState5[0],\n      setValueBtnSwitchPayment = _useState5[1];\n\n  var _useState6 = useState('d-none'),\n      switchNextStepPayment = _useState6[0],\n      setSwitchNextStepPayment = _useState6[1];\n\n  var _useState7 = useState(''),\n      discountHiddeNotLogged = _useState7[0],\n      setDiscountHiddeNotLogged = _useState7[1];\n\n  var _useState8 = useState(''),\n      amount = _useState8[0],\n      setAmount = _useState8[1];\n\n  useEffect(function () {\n    if (cookies.user && cookies.user.rol !== 'master') {\n      setCredential('false');\n    } else if (!cookies.user) {\n      setCredential('false');\n    }\n\n    if (cookies.user && cookies.user.rol === 'master') {\n      setCredential('true');\n    }\n\n    if (product.img) setImgContentState(imgContent.current.offsetWidth);\n  }, null);\n\n  var handlerAcceptPaymentSwitch = function handlerAcceptPaymentSwitch(e) {\n    if (cookies.user) {\n      if (acceptPaymentSwitch === 'accept-payment-close') {\n        e.target.classList.toggle('btn-danger');\n        e.target.classList.remove('btn-buy-now');\n        setValueBtnSwitchPayment('Cerrar');\n        setAcceptPaymentSwitch('');\n      } else {\n        e.target.classList.toggle('btn-danger');\n        e.target.classList.add('btn-buy-now');\n        setValueBtnSwitchPayment('Pagar con Mercado Pago!');\n        setAcceptPaymentSwitch('accept-payment-close');\n      }\n    } else {\n      window.location = '/iniciar-sesion';\n    }\n  };\n\n  var handlerTransaction = function handlerTransaction() {\n    var objectTransaction = {\n      id_product: product._id,\n      token_influencer: cookies.user.discount_token ? cookies.user.discount_token : 'organic',\n      id_client: cookies.user.id,\n      status_transaction: 'pending'\n    };\n    SendTransaction(objectTransaction).then(function (success) {\n      setSwitchNextStepPayment('d-block');\n    })[\"catch\"](function (err) {\n      return console.error(err);\n    });\n  };\n\n  useEffect(function () {\n    var getAllProduct = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var fetchAll, dataFetch;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"\".concat(process.env.API_PATH, \"/v1/product/\").concat(id), {\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Access-Control-Allow-Origin': '*'\n                  }\n                });\n\n              case 2:\n                fetchAll = _context.sent;\n                _context.next = 5;\n                return fetchAll.json();\n\n              case 5:\n                dataFetch = _context.sent;\n                setProduct(dataFetch);\n\n                if (cookies.user && cookies.user.discount_token && product.discount > 0 || !cookies.user) {\n                  setDiscountHiddeNotLogged('d-none');\n                  setAmount(__jsx(CurrencyFormat, {\n                    value: dataFetch.amount,\n                    displayType: 'text',\n                    thousandSeparator: true,\n                    prefix: '$',\n                    __self: _this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 86,\n                      columnNumber: 25\n                    }\n                  }));\n                } else {\n                  setDiscountHiddeNotLogged('');\n                  setAmount(__jsx(CurrencyFormat, {\n                    value: dataFetch.amount * dataFetch.discount / 100,\n                    displayType: 'text',\n                    thousandSeparator: true,\n                    prefix: '$',\n                    __self: _this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 96,\n                      columnNumber: 21\n                    }\n                  }));\n                }\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function getAllProduct() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    getAllProduct();\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(\"section\", {\n    className: \"row section-product\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, __jsx(\"article\", {\n    className: \"col-12 col-sm-12 col-lg-12 col-xl-12 p-0 m-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, __jsx(\"nav\", {\n    \"aria-label\": \"breadcrumb\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, __jsx(\"ol\", {\n    className: \"breadcrumb\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }, __jsx(\"li\", {\n    className: \"breadcrumb-item\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }\n  }, __jsx(Link, {\n    href: \"/\",\n    as: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 57\n    }\n  }, __jsx(\"a\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 79\n    }\n  }, \"Inicio\"))), __jsx(\"li\", {\n    className: \"breadcrumb-item active text-light\",\n    \"aria-current\": \"page\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }, name)))), __jsx(\"article\", {\n    className: \"col-12 col-sm-12 col-lg-8 col-xl-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, __jsx(\"article\", {\n    ref: imgContent,\n    className: \"col-12 content-img-prod-open\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, credential === 'true' ? __jsx(RemoveProduct, {\n    product: product,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 46\n    }\n  }) : false, credential === 'true' ? __jsx(EditProduct, {\n    product: product,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 46\n    }\n  }) : false, product.img ? __jsx(CloudinaryContext, {\n    cloudName: \"blets\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 27\n    }\n  }, __jsx(Image, {\n    className: \"card-img\",\n    publicId: \"\".concat(product.img, \".jpg\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 29\n    }\n  }, __jsx(Transformation, {\n    crop: \"scale\",\n    quality: \"40\",\n    width: imgContentState - 50,\n    dpr: \"auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 33\n    }\n  }))) : ''), __jsx(\"article\", {\n    className: \"col-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, __jsx(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }, \"Descripci\\xF3n\"), __jsx(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 41\n    }\n  }), __jsx(\"ul\", {\n    type: \"none\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 21\n    }\n  }, __jsx(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 25\n    }\n  }, \"- Categor\\xEDa: \", __jsx(\"span\", {\n    className: \"text-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 42\n    }\n  }, __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 71\n    }\n  }, product.type)), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 109\n    }\n  })), product.subcategory ? __jsx(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 31\n    }\n  }, \"- Edici\\xF3n: \", __jsx(\"span\", {\n    className: \"text-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 44\n    }\n  }, __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 73\n    }\n  }, product.subcategory))) : '', __jsx(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 25\n    }\n  }, \"- Nombre del negocio: \", __jsx(\"span\", {\n    className: \"text-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 51\n    }\n  }, __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 80\n    }\n  }, product.business))), __jsx(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  }, \"- Ubicaci\\xF3n: \", __jsx(\"span\", {\n    className: \"text-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 38\n    }\n  }, __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 67\n    }\n  }, product.location)))), __jsx(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 26\n    }\n  }), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }, product.description))), __jsx(\"article\", {\n    className: \"col-12 col-sm-12 col-lg-4 col-xl-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, __jsx(\"article\", {\n    className: \"col-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  }, __jsx(\"h1\", {\n    className: \"component-info-buy\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 21\n    }\n  }, product.title), __jsx(\"h4\", {\n    className: \"text-primary component-info-buy\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 21\n    }\n  }, product.amount !== 0 ? amount : __jsx(\"span\", {\n    className: \"text-success\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 27\n    }\n  }, \"GRATIS\")), __jsx(\"strike\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  }, __jsx(\"h5\", {\n    className: \"text-light component-info-buy \".concat(discountHiddeNotLogged),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 25\n    }\n  }, __jsx(CurrencyFormat, {\n    value: product.amount,\n    displayType: 'text',\n    thousandSeparator: true,\n    prefix: '$',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 29\n    }\n  }))), __jsx(\"p\", {\n    className: \"col-12 col-sm-12 col-lg-6 col-xl-6 p-0 m-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: \"\".concat(!product.shipping ? 'd-none' : 'd-block', \" shipping-open bg-primary text-light\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 25\n    }\n  }, \"Lo recib\\xEDs en tu domicilio\"), __jsx(\"span\", {\n    className: \"shipping-open bg-success text-light d-block\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 25\n    }\n  }, \"Env\\xEDo gratis\"))), __jsx(\"article\", {\n    className: \"col-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 17\n    }\n  }, __jsx(\"p\", {\n    className: \"component-info-buy\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 21\n    }\n  }, \"Pag\\xE1 al contado o en cuotas con\", __jsx(\"span\", {\n    className: \"text-info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 21\n    }\n  }, \" \", __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 50\n    }\n  }, \"Mercado Pago\"))), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: \"bg-primary p-2 text-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 25\n    }\n  }, \"Se encuentra en \", __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 45\n    }\n  }, product.location))), __jsx(\"article\", {\n    className: \"col-12 p-1 content-method-buy-steps mb-2 text-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 21\n    }\n  }, __jsx(\"ol\", {\n    type: \"1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 25\n    }\n  }, __jsx(\"li\", {\n    className: \"p-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 29\n    }\n  }, \"Hac\\xE9 click en \", __jsx(\"small\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 63\n    }\n  }, \"\\\"Compralo en un instante!\\\"\")), __jsx(\"li\", {\n    className: \"p-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 29\n    }\n  }, \"Hac\\xE9 el pago con Mercado Pago\"), __jsx(\"li\", {\n    className: \"p-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 29\n    }\n  }, \"Sacale una foto o screenshot al comprobante de pago\"), __jsx(\"li\", {\n    className: \"p-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 29\n    }\n  }, __jsx(\"a\", {\n    href: \"https://api.whatsapp.com/send?phone=\".concat(product.contact_business, \"&text=Hola!%20\\xC9ste%20es%es%mi%pedido:\").concat(product.title, \"%20-%20\").concat(product.description, \"%20-%20$\").concat(amount),\n    className: \"btn btn-success\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 49\n    }\n  }, \"Env\\xEDalo por WhatsApp!\")))), __jsx(\"article\", {\n    className: \"col-12 accept-payment \".concat(acceptPaymentSwitch),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 21\n    }\n  }, __jsx(\"article\", {\n    className: \"content--btn-payment p-5 \".concat(acceptPaymentSwitch),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 25\n    }\n  }, __jsx(\"article\", {\n    className: \"btn-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 29\n    }\n  }, __jsx(\"p\", {\n    className: \"\".concat(acceptPaymentSwitch),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 33\n    }\n  }, \"Finaliza tu pago, y te lo enviamos a tu casa!\"), __jsx(\"a\", {\n    href: product.payment,\n    onClick: handlerTransaction,\n    target: \"_blank\",\n    className: \"btn btn-primary text-light d-block \".concat(acceptPaymentSwitch),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 33\n    }\n  }, \"Pagar con Mercado Pago!\"), __jsx(PayPalButton, {\n    amount: \"0.01\" // shippingPreference=\"NO_SHIPPING\" // default is \"GET_FROM_FILE\"\n    ,\n    onSuccess: function onSuccess(details, data) {\n      alert(\"Transaction completed by \", details.payer.name.given_name);\n    },\n    options: {\n      clientId: \"ASa-3UZ9LUE-FXclhca8X0gjuJtspSQOL6vQQtpCntQAJ7E0CIsm3BiL11AxHlaGRoItZ2qUnScd4oqR\"\n    },\n    style: {\n      layout: 'vertical',\n      color: 'blue',\n      shape: 'curve',\n      label: 'paypal'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 33\n    }\n  }), __jsx(\"p\", {\n    className: \"mt-4 content-cbu\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 33\n    }\n  }, \"CBU: \", __jsx(\"span\", {\n    className: \"text-warning\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 42\n    }\n  }, product.CBU)), __jsx(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 37\n    }\n  }), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 33\n    }\n  }, __jsx(\"img\", {\n    className: \"ico-payments\",\n    src: \"../img/visa.png\",\n    alt: \"Visa\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 37\n    }\n  }), __jsx(\"img\", {\n    className: \"ico-payments\",\n    src: \"../img/mastercard.png\",\n    alt: \"Mastercard\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 37\n    }\n  }), __jsx(\"img\", {\n    className: \"ico-payments\",\n    src: \"../img/transfer.png\",\n    alt: \"Transferencia\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 37\n    }\n  }), __jsx(\"img\", {\n    className: \"ico-payments\",\n    src: \"../img/mp.webp\",\n    alt: \"Mercado Pago\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 37\n    }\n  })), __jsx(\"p\", {\n    className: \"mt-4 \".concat(switchNextStepPayment),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 33\n    }\n  }, \"Est\\xE1s a un paso de finalizar tu compra!\", __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 119\n    }\n  }), \"Env\\xEDa una foto del comprobante \", __jsx(\"a\", {\n    href: \"#\",\n    className: \"btn btn-success\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 64\n    }\n  }, \"Env\\xEDalo por WhatsApp!\"))))), __jsx(\"input\", {\n    onClick: handlerAcceptPaymentSwitch,\n    type: \"button\",\n    className: \"btn btn-buy-now text-light d-block col-12\",\n    value: valueBtnSwitchPayment,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 21\n    }\n  })))));\n}; // 0720006988000038698918\n\n\n_s(Product, \"bz5IUAbOkF0t93wqXfxZAT9sLSo=\", false, function () {\n  return [useRouter, useCookies];\n});\n\n_c = Product;\nexport default Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"sources":["/home/naza/Escritorio/private/marketblets/front-end/components/product/product.component.jsx"],"names":["useState","useEffect","useCookies","useRouter","CurrencyFormat","SendTransaction","RemoveProduct","EditProduct","Image","Video","Transformation","CloudinaryContext","useRef","Link","PayPalButton","Product","prop","Router","query","id","name","imgContent","credential","setCredential","imgContentState","setImgContentState","cookies","setCookie","product","setProduct","acceptPaymentSwitch","setAcceptPaymentSwitch","valueBtnSwitchPayment","setValueBtnSwitchPayment","switchNextStepPayment","setSwitchNextStepPayment","discountHiddeNotLogged","setDiscountHiddeNotLogged","amount","setAmount","user","rol","img","current","offsetWidth","handlerAcceptPaymentSwitch","e","target","classList","toggle","remove","add","window","location","handlerTransaction","objectTransaction","id_product","_id","token_influencer","discount_token","id_client","status_transaction","then","success","err","console","error","getAllProduct","fetch","process","env","API_PATH","headers","fetchAll","json","dataFetch","discount","type","subcategory","business","description","title","shipping","contact_business","payment","details","data","alert","payer","given_name","clientId","layout","color","shape","label","CBU"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useCookies } from 'react-cookie';\r\nimport { useRouter } from \"next/router\";\r\nimport CurrencyFormat from 'react-currency-format';\r\nimport SendTransaction from './send.transaction.component';\r\nimport RemoveProduct from '../management/remove.product.component';\r\nimport EditProduct from '../management/edit.product.component';\r\nimport {Image, Video, Transformation, CloudinaryContext} from 'cloudinary-react';\r\nimport { useRef } from 'react';\r\nimport Link from 'next/link';\r\nimport { PayPalButton } from \"react-paypal-button-v2\";\r\n\r\nconst Product = prop => {\r\n    const Router = useRouter();\r\n    const { id, name } = Router.query;\r\n    const imgContent = useRef(null);\r\n    const [credential, setCredential] = useState('');\r\n    const [imgContentState, setImgContentState] = useState('');\r\n    const [cookies, setCookie] = useCookies(['user']);\r\n    const [product, setProduct] = useState([]);\r\n    const [acceptPaymentSwitch, setAcceptPaymentSwitch] = useState('accept-payment-close');\r\n    const [valueBtnSwitchPayment, setValueBtnSwitchPayment] = useState('Compralo en un instante!');\r\n    const [switchNextStepPayment, setSwitchNextStepPayment] = useState('d-none');\r\n    const [discountHiddeNotLogged, setDiscountHiddeNotLogged] = useState('')\r\n    const [amount, setAmount] = useState('')\r\n\r\n    useEffect(() => {\r\n        if(cookies.user \r\n            && cookies.user.rol !== 'master'){\r\n            setCredential('false');\r\n        }else if(!cookies.user){\r\n            setCredential('false');\r\n        }\r\n        if(cookies.user \r\n            && cookies.user.rol === 'master'){\r\n            setCredential('true');\r\n        }\r\n        if(product.img)setImgContentState(imgContent.current.offsetWidth);\r\n    }, null)\r\n    const handlerAcceptPaymentSwitch = e => {\r\n        if(cookies.user){\r\n            if(acceptPaymentSwitch === 'accept-payment-close'){\r\n                e.target.classList.toggle('btn-danger');\r\n                e.target.classList.remove('btn-buy-now');\r\n                setValueBtnSwitchPayment('Cerrar');\r\n                setAcceptPaymentSwitch('');\r\n            }else{\r\n                e.target.classList.toggle('btn-danger');\r\n                e.target.classList.add('btn-buy-now');\r\n                setValueBtnSwitchPayment('Pagar con Mercado Pago!');\r\n                setAcceptPaymentSwitch('accept-payment-close');\r\n            } \r\n        }else{\r\n            window.location = '/iniciar-sesion';\r\n        }\r\n    }\r\n    const handlerTransaction = () => {\r\n        const objectTransaction = {\r\n            id_product: product._id,\r\n            token_influencer: (cookies.user.discount_token) ? cookies.user.discount_token : 'organic',\r\n            id_client: cookies.user.id,\r\n            status_transaction: 'pending'\r\n        }\r\n        SendTransaction(objectTransaction)\r\n        .then(success => {\r\n            setSwitchNextStepPayment('d-block');\r\n        })\r\n        .catch(err => console.error(err))\r\n    }\r\n    useEffect(() => {\r\n        const getAllProduct = async () => {\r\n            const fetchAll = await fetch(`${process.env.API_PATH}/v1/product/${id}`, {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Access-Control-Allow-Origin': '*'\r\n                }\r\n            })\r\n            const dataFetch = await fetchAll.json();\r\n            setProduct(dataFetch);\r\n            if(cookies.user \r\n                && cookies.user.discount_token \r\n                && product.discount > 0 \r\n                || !cookies.user){\r\n                    setDiscountHiddeNotLogged('d-none')\r\n                    setAmount(\r\n                        <CurrencyFormat \r\n                            value={dataFetch.amount} \r\n                            displayType={'text'} \r\n                            thousandSeparator={true} \r\n                            prefix={'$'}\r\n                        />\r\n                    )\r\n            }else{\r\n                setDiscountHiddeNotLogged('')\r\n                setAmount(\r\n                    <CurrencyFormat \r\n                        value={((dataFetch.amount * dataFetch.discount) / 100)} \r\n                        displayType={'text'} \r\n                        thousandSeparator={true} \r\n                        prefix={'$'}\r\n                    />\r\n                )\r\n            }\r\n        }\r\n        getAllProduct()\r\n    }, [])\r\n    return(\r\n        <>\r\n        <section className=\"row section-product\">\r\n            <article className='col-12 col-sm-12 col-lg-12 col-xl-12 p-0 m-0'>\r\n                <nav aria-label=\"breadcrumb\">\r\n                    <ol className=\"breadcrumb\">\r\n                        <li className=\"breadcrumb-item\"><Link href=\"/\" as='/'><a>Inicio</a></Link></li>\r\n                        <li className=\"breadcrumb-item active text-light\" aria-current=\"page\">{name}</li>\r\n                    </ol>\r\n                </nav>\r\n            </article>\r\n            <article className=\"col-12 col-sm-12 col-lg-8 col-xl-8\">\r\n                <article ref={imgContent} className=\"col-12 content-img-prod-open\">\r\n                    {credential === 'true' ? <RemoveProduct product={product}/> : false}\r\n                    {credential === 'true' ? <EditProduct product={product}/> : false}\r\n                    {\r\n                        product.img \r\n                        ? <CloudinaryContext cloudName=\"blets\">\r\n                            <Image className='card-img' publicId={`${product.img}.jpg`}>\r\n                                <Transformation crop='scale' quality='40' width={(imgContentState - 50)} dpr='auto'/>\r\n                            </Image>\r\n                        </CloudinaryContext>\r\n                        : ''\r\n                    }\r\n                </article>\r\n                <article className=\"col-12\">\r\n                    <h2>Descripción</h2><hr/>\r\n                    <ul type='none'>\r\n                        <li>\r\n                            - Categoría: <span className='text-light'><strong>{product.type}</strong></span><br/>\r\n                        </li>\r\n                        {\r\n                            product.subcategory \r\n                            ? <li>\r\n                                - Edición: <span className='text-light'><strong>{product.subcategory}</strong></span>\r\n                            </li>\r\n                            : '' \r\n                        }\r\n                        <li>\r\n                            - Nombre del negocio: <span className='text-light'><strong>{product.business}</strong></span>\r\n                        </li>\r\n                        <li>\r\n                        - Ubicación: <span className='text-light'><strong>{product.location}</strong></span>\r\n                        </li>\r\n                    </ul><hr/>\r\n                    <p>\r\n                        {product.description}\r\n                    </p>\r\n                </article>\r\n            </article>\r\n            <article className=\"col-12 col-sm-12 col-lg-4 col-xl-4\">\r\n                <article className=\"col-12\">\r\n                    <h1 className=\"component-info-buy\">{product.title}</h1>\r\n                    <h4 className={`text-primary component-info-buy`}>\r\n                        {(product.amount !== 0) \r\n                        ? amount\r\n                        : <span className='text-success'>GRATIS</span>}\r\n                    </h4>\r\n                    <strike>\r\n                        <h5 className={`text-light component-info-buy ${discountHiddeNotLogged}`}>\r\n                            <CurrencyFormat \r\n                                value={product.amount} \r\n                                displayType={'text'} \r\n                                thousandSeparator={true} \r\n                                prefix={'$'}/>\r\n                        </h5>\r\n                    </strike>\r\n                    <p className='col-12 col-sm-12 col-lg-6 col-xl-6 p-0 m-0'>\r\n                        <span className={`${(!product.shipping) ? 'd-none' : 'd-block'} shipping-open bg-primary text-light`}>\r\n                            Lo recibís en tu domicilio\r\n                        </span>\r\n                        <span className={`shipping-open bg-success text-light d-block`}>\r\n                            Envío gratis\r\n                        </span>\r\n                    </p>\r\n                </article>\r\n                <article className=\"col-12\">\r\n                    <p className=\"component-info-buy\">Pagá al contado o en cuotas con \r\n                    <span className=\"text-info\"> <strong>Mercado Pago</strong></span></p>\r\n                    <p>\r\n                        <span className='bg-primary p-2 text-light'>\r\n                            Se encuentra en <strong>{product.location}</strong>\r\n                        </span>\r\n                    </p>\r\n                    <article className='col-12 p-1 content-method-buy-steps mb-2 text-light'>\r\n                        <ol type='1'>\r\n                            <li className='p-1'>Hacé click en <small>\"Compralo en un instante!\"</small></li>\r\n                            <li className='p-1'>Hacé el pago con Mercado Pago</li>\r\n                            <li className='p-1'>Sacale una foto o screenshot al comprobante de pago</li>\r\n                            <li className='p-1'><a href={`https://api.whatsapp.com/send?phone=${product.contact_business}&text=Hola!%20Éste%20es%es%mi%pedido:${product.title}%20-%20${product.description}%20-%20$${amount}`} className='btn btn-success'>Envíalo por WhatsApp!</a></li>\r\n                        </ol>\r\n                    </article>\r\n                    <article className={`col-12 accept-payment ${acceptPaymentSwitch}`}>\r\n                        <article className={`content--btn-payment p-5 ${acceptPaymentSwitch}`}>\r\n                            <article className=\"btn-content\">\r\n                                <p className={`${acceptPaymentSwitch}`}>Finaliza tu pago, y te lo enviamos a tu casa!</p>\r\n                                <a href={product.payment} onClick={handlerTransaction} target='_blank' className={`btn btn-primary text-light d-block ${acceptPaymentSwitch}`}>\r\n                                    Pagar con Mercado Pago!\r\n                                </a>\r\n                                <PayPalButton\r\n                                    amount=\"0.01\"\r\n                                    // shippingPreference=\"NO_SHIPPING\" // default is \"GET_FROM_FILE\"\r\n                                    onSuccess={(details, data) => {\r\n                                        alert(\"Transaction completed by \", details.payer.name.given_name);\r\n                                    }}\r\n                                    options={{\r\n                                        clientId: \"ASa-3UZ9LUE-FXclhca8X0gjuJtspSQOL6vQQtpCntQAJ7E0CIsm3BiL11AxHlaGRoItZ2qUnScd4oqR\"\r\n                                    }}\r\n                                    style={{\r\n                                        layout: 'vertical',\r\n                                        color: 'blue',\r\n                                        shape: 'curve',\r\n                                        label: 'paypal'\r\n                                    }}\r\n                                />\r\n                                <p className='mt-4 content-cbu'>\r\n                                    CBU: <span className='text-warning'>\r\n                                    {product.CBU}\r\n                                    </span>\r\n                                </p><hr/>\r\n                                <p>\r\n                                    <img className='ico-payments' src=\"../img/visa.png\" alt=\"Visa\"/>\r\n                                    <img className='ico-payments' src=\"../img/mastercard.png\" alt=\"Mastercard\"/>\r\n                                    <img className='ico-payments' src=\"../img/transfer.png\" alt=\"Transferencia\"/>\r\n                                    <img className='ico-payments' src=\"../img/mp.webp\" alt=\"Mercado Pago\"/>\r\n                                </p>\r\n                                <p className={`mt-4 ${switchNextStepPayment}`}>Estás a un paso de finalizar tu compra!<br/>\r\n                                Envía una foto del comprobante <a href='#' className='btn btn-success'>Envíalo por WhatsApp!</a></p>\r\n                            </article>       \r\n                        </article>\r\n                    </article>\r\n                    <input onClick={handlerAcceptPaymentSwitch} type='button' className=\"btn btn-buy-now text-light d-block col-12\" value={valueBtnSwitchPayment}/>\r\n                </article>\r\n            </article>\r\n        </section>\r\n        </>\r\n    )\r\n}\r\n// 0720006988000038698918\r\nexport default Product;"]},"metadata":{},"sourceType":"module"}