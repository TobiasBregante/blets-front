{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { useState, useEffect, useRef } from 'react';\nimport { Image, Transformation, CloudinaryContext } from 'cloudinary-react';\nimport SwitchPrice from './price.convert.component';\nimport GetItem from '../localStorage/getItem.js';\n\nvar ProductList = function ProductList(_ref) {\n  var prod = _ref.prod;\n  var imgContain = useRef(null);\n\n  var _useState = useState(''),\n      imgContentState = _useState[0],\n      setImgContentState = _useState[1];\n\n  var _useState2 = useState(GetItem('user')),\n      cookie = _useState2[0],\n      setCookie = _useState2[1];\n\n  useEffect(function () {\n    if (imgContain.current) {\n      setImgContentState(imgContain.current.offsetWidth);\n    }\n  }, null);\n  return __jsx(React.Fragment, null, __jsx(Link, {\n    href: \"/[name]/[id]\",\n    as: \"/\".concat(prod.title, \"/\").concat(prod._id)\n  }, __jsx(\"a\", {\n    className: \"card-product-all card mb-3 col-12 col-sm-12 col-lg-12 col-xl-12\"\n  }, __jsx(\"article\", {\n    className: \"row no-gutters\"\n  }, __jsx(\"article\", {\n    ref: imgContain,\n    className: \"col-md-4 m-auto\"\n  }, prod.img ? __jsx(CloudinaryContext, {\n    cloudName: \"blets\"\n  }, __jsx(Image, {\n    className: \"card-img\",\n    publicId: \"\".concat(prod.img, \".jpg\")\n  }, __jsx(Transformation, {\n    crop: \"scale\",\n    quality: \"60\",\n    width: \"120\",\n    dpr: \"auto\"\n  }))) : ''), __jsx(\"article\", {\n    className: \"col-md-8\"\n  }, __jsx(\"article\", {\n    className: \"card-body\"\n  }, __jsx(\"h5\", {\n    className: \"card-title\"\n  }, prod.title), __jsx(\"p\", {\n    className: \"card-text\"\n  }, prod.description.slice(0, 70), \"...\"), __jsx(\"p\", {\n    className: \"card-price card-text\"\n  }, __jsx(SwitchPrice.SwitchPriceAuth, {\n    discount: prod.discount,\n    amount: prod.amount\n  })), __jsx(\"p\", {\n    className: \"card-text\"\n  }, __jsx(\"small\", {\n    className: \"text-muted\"\n  }, prod.last_since))))))));\n};\n\nexport default ProductList;","map":null,"metadata":{},"sourceType":"module"}